
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Spring Batch HTTP Page Item Reader - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"Spring Batch로 애플리케이션을 작성하는 경우 내부 데이터가 아니라 외부의 데이터를 가져와서 가공해야 하는 경우 데이터 파이프라인은 어떻게 구축해야 할지 결정해야 합니다. 예를 들어 데이터베이스에 직접 연결해서 필요한 데이터를 쿼리 하여 가져올 것인지, 아니면 csv 등 파일을 주고받는 방식, HTTP API를 통해서 가져오는 방식 등등 여러 가지 방식이 있습니다. 데이터베이스 연결 방식, 파일방식은 스프링 배치에서 기본 제공해 주고 있지만 HTTP Paging 기반 Reader는 제공해 주고 있지 않아 해당 기능을 Item Reader를 직접 구현해 보겠습니다. 부족한 부분은 프로젝트에 맞게 추가하셔도 좋을 거 같습니다.\nSpring Batch 기본 소개\n\n\n읽기(read) : 데이터 저장소(일반적으로 데이터베이스)에서 특정 데이터 레코드를 읽습니다.\n처리(processing) : 원하는 방식으로 데이터 가공/처리합니다.\n쓰기(write) : 수정된 데이터를 다시 저장소에 저장합니다.\n\n\n\nReader에서 데이터를 하나 읽어 옵니다.\n읽어온 데이터를 Processor에서 가공합니다.\n가공된 데이터들을 별도의 공간에 모은뒤, Chunk 단위만큼 쌓이게 되면 Writer에 전달하고 Writer는 일괄 저장합니다.\n\nReader와 Processor에서는 1건씩 다뤄지고, Writer에선 Chunk 단위로 처리된다는 것이 중요합니다.\nChunk 지향 처리를 Java 코드로 표현하면 아래처럼 될 것 같습니다.\n12345678910111213fun Chunk_처리_방법(chunkSize: Int, totalSize: Int) &#123;    var i = 0    while (i &lt; totalSize) &#123;        val items: MutableList&lt;*&gt; = ArrayList&lt;Any?&gt;()        for (j in 0 until chunkSize) &#123;            val item: Any = itemReader.read()            val processedItem: Any = itemProcessor.process(item)            items.add(processedItem)        &#125;        itemWriter.write(items)        i = i + chunkSize    &#125;&#125;\n즉 chunkSize 별로 묶는 다는 것은 total_size에서 chunk_size 만큼 읽어 자장한다는 의미입니다.\nHttpPageItemReader\nHTTP Response\n12345678910111213141516&#123;  &quot;content&quot;: [    &#123;      &quot;bookId&quot;: 1,      &quot;bookStatus&quot;: &quot;OPEN&quot;,      &quot;userId&quot;: 1,      &quot;id&quot;: 1    &#125;    ...  ],  ...  &quot;number&quot;: 0,  &quot;size&quot;: 2,  &quot;numberOfElements&quot;: 2,  &quot;empty&quot;: false&#125;\nHTTP Response는 위와 같이 구성되어 있다고 가정하겠습니다.\n\n\n\nPage\nsize\nURL\nContent\n\n\n\n\n0\n10\nhttp://localhost:8080/api/members?page=0&amp;size=10\n10\n\n\n1\n10\nhttp://localhost:8080/api/members?page=1&amp;size=10\n10\n\n\n2\n10\nhttp://localhost:8080/api/members?page=2&amp;size=10\n3\n\n\n3\n10\nhttp://localhost:8080/api/members?page=3&amp;size=10\n0\n\n\n\n실제 데이터는 rows 23개가 저장되어 있다면 size를 10을 기준으로 2페이지 까지 읽으면 모든 데이터를 다 읽게 됩니다. 2페이지에서는 남은 데이터 rows 3개가 응답되며 3페이지를 조회하면 빈 응답 페이지가 넘어오게 됩니다. 즉 HttpPageItemReader는 content가 빈 배열이 나올 때까지 page를 1식 증가 시키며 다음 페이지를 계속 읽어 나가는 형태로 구성됩니다.\nCode\nHttpPageItemReader\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889open class HttpPageItemReader&lt;T : Any&gt;(    name: String = &quot;HttpPageItemReader&quot;,    private val url: String,    private val size: Int,    private var page: Int,    private val parameters: List&lt;Pair&lt;String, Any&gt;&gt;? = null,    private val contentClass: KClass&lt;T&gt;,    private val objectMapper: ObjectMapper = ObjectMapper().registerKotlinModule()        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)        .apply &#123; this.propertyNamingStrategy = PropertyNamingStrategies.SNAKE_CASE &#125;) : AbstractItemCountingItemStreamItemReader&lt;T&gt;() &#123;    private val log by logger()    private var contents = mutableListOf&lt;T&gt;()    init &#123;        super.setName(name)    &#125;    // (2)    override fun doOpen() &#123;         log.info(&quot;HttpPageItemReader doOpen page: $page, size: $size&quot;)    &#125;    // (2)    override fun doClose() &#123;        log.info(&quot;HttpPageItemReader doClose page: $page, size: $size&quot;)    &#125;    // (3)    override fun doRead(): T? &#123;        if (this.contents.isEmpty()) &#123;            this.contents = readRow()        &#125;        return when &#123;            this.contents.isEmpty() -&gt; null            else -&gt; this.contents.removeAt(this.contents.size - 1)        &#125;    &#125;    // (4)    private fun readRow() =        url            .httpGet(generateQueryParameter())            .responseString()            .run &#123;                when &#123;                    second.isSuccessful -&gt; &#123;                        page++                        serializeResponseBody(responseBody = third.get())                    &#125;                    else -&gt; throw IllegalArgumentException(&quot;...&quot;) // 2xx 응답을 받지 못한 경우는 각 상황에 맞게 구현                &#125;            &#125;    // (5)    private fun generateQueryParameter() = when (parameters) &#123;        null -&gt; &#123;            listOf(                &quot;page&quot; to page,                &quot;size&quot; to size,            )        &#125;        else -&gt; &#123;            mutableListOf(                &quot;page&quot; to page,                &quot;size&quot; to size,            )                .plus(parameters)        &#125;    &#125;    // (6)    private fun serializeResponseBody(responseBody: String): MutableList&lt;T&gt; &#123;        val rootNode = objectMapper.readTree(responseBody)        val contentNode = rootNode.path(&quot;content&quot;)        require(rootNode.isEmpty.not()) &#123; &quot;Response Body 값이 비어 있을 수 없습니다.&quot; &#125;        require(contentNode.isArray) &#123; &quot;Response content 필드는 Array 타입 이어야 합니다.&quot; &#125;        // (7)        return objectMapper.convertValue&lt;List&lt;T&gt;&gt;(            contentNode,            objectMapper.typeFactory.constructCollectionType(List::class.java, contentClass.java)        ).toMutableList()    &#125;&#125;\n\n(1), (2) 커넥션을 맺거나 자원을 할당하고 해제하는 케이스가 없기 때문에 단순히 로그만 작성\n(3) 1건식 읽어서 처리합니다. 해당 1건을 읽어 처리한 부분은 item processor로 넘어갈 수 있게 합니다.\n(4) 실제로 HTTP 통신을 진행합니다.\n(5) page, size 외 쿼리 파라미터를 처리합니다.\n(6) HTTP Response Body를 객체로 시리얼라이즈 작업을 진행합니다. 이때 예외 처리를 진행하게 합니다.\n(7) content 리스트 시리얼라이즈 진행\n\n123456789101112131415&#123;  &quot;content&quot;: [    &#123;      &quot;bookId&quot;: 1,      &quot;bookStatus&quot;: &quot;OPEN&quot;,      &quot;userId&quot;: 1,      &quot;id&quot;: 1    &#125;  ],  ...  &quot;number&quot;: 0,  &quot;size&quot;: 2,  &quot;numberOfElements&quot;: 2,  &quot;empty&quot;: false&#125;\ncontent에 해당하는 내용들만 사용하기 때문에 content 노드를 찾아 해당 정보만 시리얼 라이즈를 진행합니다. HTTP Paging API에 대한 응답 형태를 통일화하여 특정 응답에 대해서만 지원 가능하게 유효성 검사 코드가 있습니다. 유연하게 사용 하기를 원하시면 해당 부분을 외부에는 변경이 가능하게 파라미터로 받는 방식으로 진행해도 무방합니다. 다만 통일된 응답 포맷을 갖는 것이 더 바람직하다고 생각합니다.\nBatch Code\n123456789101112131415161718192021222324252627282930313233343536@Configurationclass HttpPageReaderJobConfiguration(        private val jobBuilderFactory: JobBuilderFactory,        private val stepBuilderFactory: StepBuilderFactory) &#123;    ...    @Bean    @StepScope    fun httpPageReaderReader(            entityManagerFactory: EntityManagerFactory    ) = HttpPageItemReader(            url = &quot;http://localhost:8080/api/members&quot;, // API 주소             size = 10, // 응답받을 content size로 대부분 chunk size와 동일하게 구성            page = 0, // page start 값으로 대부분 0 부터 시작            parameters = listOf(                    &quot;age&quot; to 10,                    &quot;email&quot; to &quot;1232@asd.com&quot;            ), // 쿼리 파라미터, page, size 외에 값을 사용            contentClass = BookReservation::class // 시리얼라이즈 대상 클래스    )    @Bean    @StepScope    fun httpPageReaderWriter(    ): ItemWriter&lt;BookReservation&gt; = ItemWriter &#123; contents -&gt;        for (content in contents) &#123;            println(content)        &#125;    &#125;&#125;data class BookReservation(        val bookId: Long,        val bookStatus:String,        val userId: Long)\nLocal API를 호출하여 로그를 찍는 간단한 애플리케이션입니다.\n\n1~20 개의 모든 데이터를 조회하고 로그를 찍는 것을 확인할 수 있습니다.\n참고\n\n처음 배우는 스프링 부트 2\nSpring Batch 가이드 - Chunk 지향 처리\n\n","dateCreated":"2025-01-31T06:29:31+09:00","dateModified":"2025-01-31T06:29:31+09:00","datePublished":"2025-01-31T06:29:31+09:00","description":"Spring Batch로 애플리케이션을 작성하는 경우 내부 데이터가 아니라 외부의 데이터를 가져와서 가공해야 하는 경우 데이터 파이프라인은 어떻게 구축해야 할지 결정해야 합니다.","headline":"Spring Batch HTTP Page Item Reader","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/spring-batch-http-page-item-reader/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/spring-batch-http-page-item-reader/","keywords":"Spring Batch"}</script>
    <meta name="description" content="Spring Batch로 애플리케이션을 작성하는 경우 내부 데이터가 아니라 외부의 데이터를 가져와서 가공해야 하는 경우 데이터 파이프라인은 어떻게 구축해야 할지 결정해야 합니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Spring Batch HTTP Page Item Reader">
<meta property="og:url" content="https://cheese10yun.github.io/spring-batch-http-page-item-reader/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="Spring Batch로 애플리케이션을 작성하는 경우 내부 데이터가 아니라 외부의 데이터를 가져와서 가공해야 하는 경우 데이터 파이프라인은 어떻게 구축해야 할지 결정해야 합니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/TIL/master/assets/batch-obejct-relrationship.png">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/TIL/master/assets/chun-process.png">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/http-reader-1.png">
<meta property="article:published_time" content="2025-01-30T21:29:31.815Z">
<meta property="article:modified_time" content="2025-01-30T21:29:31.815Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="Spring Batch">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/cheese10yun/TIL/master/assets/batch-obejct-relrationship.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Spring Batch HTTP Page Item Reader
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2025-01-31T06:29:31+09:00">
	
		    2025/01/31
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>Spring Batch로 애플리케이션을 작성하는 경우 내부 데이터가 아니라 외부의 데이터를 가져와서 가공해야 하는 경우 데이터 파이프라인은 어떻게 구축해야 할지 결정해야 합니다. 예를 들어 데이터베이스에 직접 연결해서 필요한 데이터를 쿼리 하여 가져올 것인지, 아니면 csv 등 파일을 주고받는 방식, HTTP API를 통해서 가져오는 방식 등등 여러 가지 방식이 있습니다. 데이터베이스 연결 방식, 파일방식은 스프링 배치에서 기본 제공해 주고 있지만 HTTP Paging 기반 Reader는 제공해 주고 있지 않아 해당 기능을 Item Reader를 직접 구현해 보겠습니다. 부족한 부분은 프로젝트에 맞게 추가하셔도 좋을 거 같습니다.</p>
<h2 id="Spring-Batch-기본-소개">Spring Batch 기본 소개</h2>
<p><img src="https://raw.githubusercontent.com/cheese10yun/TIL/master/assets/batch-obejct-relrationship.png" alt=""></p>
<ul>
<li>읽기(read) : 데이터 저장소(일반적으로 데이터베이스)에서 특정 데이터 레코드를 읽습니다.</li>
<li>처리(processing) : 원하는 방식으로 데이터 가공/처리합니다.</li>
<li>쓰기(write) : 수정된 데이터를 다시 저장소에 저장합니다.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/cheese10yun/TIL/master/assets/chun-process.png" alt=""></p>
<ul>
<li>Reader에서 데이터를 하나 읽어 옵니다.</li>
<li>읽어온 데이터를 Processor에서 가공합니다.</li>
<li>가공된 데이터들을 별도의 공간에 모은뒤, Chunk 단위만큼 쌓이게 되면 Writer에 전달하고 Writer는 일괄 저장합니다.</li>
</ul>
<p><strong>Reader와 Processor에서는 1건씩 다뤄지고, Writer에선 Chunk 단위로 처리된다는 것이 중요합니다.</strong></p>
<p>Chunk 지향 처리를 Java 코드로 표현하면 아래처럼 될 것 같습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fun Chunk_처리_방법(chunkSize: Int, totalSize: Int) &#123;</span><br><span class="line">    <span class="type">var</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; totalSize) &#123;</span><br><span class="line">        val items: MutableList&lt;*&gt; = ArrayList&lt;Any?&gt;()</span><br><span class="line">        <span class="keyword">for</span> (j in <span class="number">0</span> until chunkSize) &#123;</span><br><span class="line">            val item: Any = itemReader.read()</span><br><span class="line">            val processedItem: Any = itemProcessor.process(item)</span><br><span class="line">            items.add(processedItem)</span><br><span class="line">        &#125;</span><br><span class="line">        itemWriter.write(items)</span><br><span class="line">        i = i + chunkSize</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>즉 chunkSize 별로 묶는 다는 것은 total_size에서 chunk_size 만큼 읽어 자장한다는 의미입니다.</strong></p>
<h3 id="HttpPageItemReader">HttpPageItemReader</h3>
<h3 id="HTTP-Response">HTTP Response</h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;bookId&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bookStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OPEN&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;userId&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;numberOfElements&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>HTTP Response는 위와 같이 구성되어 있다고 가정하겠습니다.</p>
<table>
<thead>
<tr>
<th>Page</th>
<th>size</th>
<th>URL</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>10</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/api/members?page=0&amp;size=10">http://localhost:8080/api/members?page=0&amp;size=10</a></td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>10</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/api/members?page=1&amp;size=10">http://localhost:8080/api/members?page=1&amp;size=10</a></td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>10</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/api/members?page=2&amp;size=10">http://localhost:8080/api/members?page=2&amp;size=10</a></td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>10</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/api/members?page=3&amp;size=10">http://localhost:8080/api/members?page=3&amp;size=10</a></td>
<td>0</td>
</tr>
</tbody>
</table>
<p>실제 데이터는 rows 23개가 저장되어 있다면 size를 10을 기준으로 2페이지 까지 읽으면 모든 데이터를 다 읽게 됩니다. 2페이지에서는 남은 데이터 rows 3개가 응답되며 3페이지를 조회하면 빈 응답 페이지가 넘어오게 됩니다. 즉 HttpPageItemReader는 <code>content</code>가 빈 배열이 나올 때까지 page를 1식 증가 시키며 다음 페이지를 계속 읽어 나가는 형태로 구성됩니다.</p>
<h2 id="Code">Code</h2>
<h3 id="HttpPageItemReader-2">HttpPageItemReader</h3>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">HttpPageItemReader</span>&lt;<span class="type">T : Any</span>&gt;(</span><br><span class="line">    name: String = <span class="string">&quot;HttpPageItemReader&quot;</span>,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> url: String,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> size: <span class="built_in">Int</span>,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> page: <span class="built_in">Int</span>,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> parameters: List&lt;Pair&lt;String, Any&gt;&gt;? = <span class="literal">null</span>,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> contentClass: KClass&lt;T&gt;,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> objectMapper: ObjectMapper = ObjectMapper().registerKotlinModule()</span><br><span class="line">        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="literal">false</span>)</span><br><span class="line">        .apply &#123; <span class="keyword">this</span>.propertyNamingStrategy = PropertyNamingStrategies.SNAKE_CASE &#125;</span><br><span class="line">) : AbstractItemCountingItemStreamItemReader&lt;T&gt;() &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> log <span class="keyword">by</span> logger()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> contents = mutableListOf&lt;T&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.setName(name)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (2)</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">doOpen</span><span class="params">()</span></span> &#123; </span><br><span class="line">        log.info(<span class="string">&quot;HttpPageItemReader doOpen page: <span class="variable">$page</span>, size: <span class="variable">$size</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (2)</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">doClose</span><span class="params">()</span></span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;HttpPageItemReader doClose page: <span class="variable">$page</span>, size: <span class="variable">$size</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (3)</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">doRead</span><span class="params">()</span></span>: T? &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.contents.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">this</span>.contents = readRow()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">when</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.contents.isEmpty() -&gt; <span class="literal">null</span></span><br><span class="line">            <span class="keyword">else</span> -&gt; <span class="keyword">this</span>.contents.removeAt(<span class="keyword">this</span>.contents.size - <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (4)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">readRow</span><span class="params">()</span></span> =</span><br><span class="line">        url</span><br><span class="line">            .httpGet(generateQueryParameter())</span><br><span class="line">            .responseString()</span><br><span class="line">            .run &#123;</span><br><span class="line">                <span class="keyword">when</span> &#123;</span><br><span class="line">                    second.isSuccessful -&gt; &#123;</span><br><span class="line">                        page++</span><br><span class="line">                        serializeResponseBody(responseBody = third.<span class="keyword">get</span>())</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;...&quot;</span>) <span class="comment">// 2xx 응답을 받지 못한 경우는 각 상황에 맞게 구현</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// (5)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">generateQueryParameter</span><span class="params">()</span></span> = <span class="keyword">when</span> (parameters) &#123;</span><br><span class="line">        <span class="literal">null</span> -&gt; &#123;</span><br><span class="line">            listOf(</span><br><span class="line">                <span class="string">&quot;page&quot;</span> to page,</span><br><span class="line">                <span class="string">&quot;size&quot;</span> to size,</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">            mutableListOf(</span><br><span class="line">                <span class="string">&quot;page&quot;</span> to page,</span><br><span class="line">                <span class="string">&quot;size&quot;</span> to size,</span><br><span class="line">            )</span><br><span class="line">                .plus(parameters)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (6)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">serializeResponseBody</span><span class="params">(responseBody: <span class="type">String</span>)</span></span>: MutableList&lt;T&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> rootNode = objectMapper.readTree(responseBody)</span><br><span class="line">        <span class="keyword">val</span> contentNode = rootNode.path(<span class="string">&quot;content&quot;</span>)</span><br><span class="line"></span><br><span class="line">        require(rootNode.isEmpty.not()) &#123; <span class="string">&quot;Response Body 값이 비어 있을 수 없습니다.&quot;</span> &#125;</span><br><span class="line">        require(contentNode.isArray) &#123; <span class="string">&quot;Response content 필드는 Array 타입 이어야 합니다.&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// (7)</span></span><br><span class="line">        <span class="keyword">return</span> objectMapper.convertValue&lt;List&lt;T&gt;&gt;(</span><br><span class="line">            contentNode,</span><br><span class="line">            objectMapper.typeFactory.constructCollectionType(List::<span class="keyword">class</span>.java, contentClass.java)</span><br><span class="line">        ).toMutableList()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>(1), (2) 커넥션을 맺거나 자원을 할당하고 해제하는 케이스가 없기 때문에 단순히 로그만 작성</li>
<li>(3) 1건식 읽어서 처리합니다. 해당 1건을 읽어 처리한 부분은 item processor로 넘어갈 수 있게 합니다.</li>
<li>(4) 실제로 HTTP 통신을 진행합니다.</li>
<li>(5) page, size 외 쿼리 파라미터를 처리합니다.</li>
<li>(6) HTTP Response Body를 객체로 시리얼라이즈 작업을 진행합니다. 이때 예외 처리를 진행하게 합니다.</li>
<li>(7) content 리스트 시리얼라이즈 진행</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;bookId&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bookStatus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OPEN&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;userId&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;numberOfElements&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>content에 해당하는 내용들만 사용하기 때문에 content 노드를 찾아 해당 정보만 시리얼 라이즈를 진행합니다. HTTP Paging API에 대한 응답 형태를 통일화하여 특정 응답에 대해서만 지원 가능하게 유효성 검사 코드가 있습니다. 유연하게 사용 하기를 원하시면 해당 부분을 외부에는 변경이 가능하게 파라미터로 받는 방식으로 진행해도 무방합니다. 다만 통일된 응답 포맷을 갖는 것이 더 바람직하다고 생각합니다.</p>
<h2 id="Batch-Code">Batch Code</h2>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HttpPageReaderJobConfiguration</span>(</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> jobBuilderFactory: JobBuilderFactory,</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> stepBuilderFactory: StepBuilderFactory</span><br><span class="line">) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@StepScope</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">httpPageReaderReader</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            entityManagerFactory: <span class="type">EntityManagerFactory</span></span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span> = HttpPageItemReader(</span><br><span class="line">            url = <span class="string">&quot;http://localhost:8080/api/members&quot;</span>, <span class="comment">// API 주소 </span></span><br><span class="line">            size = <span class="number">10</span>, <span class="comment">// 응답받을 content size로 대부분 chunk size와 동일하게 구성</span></span><br><span class="line">            page = <span class="number">0</span>, <span class="comment">// page start 값으로 대부분 0 부터 시작</span></span><br><span class="line">            parameters = listOf(</span><br><span class="line">                    <span class="string">&quot;age&quot;</span> to <span class="number">10</span>,</span><br><span class="line">                    <span class="string">&quot;email&quot;</span> to <span class="string">&quot;1232@asd.com&quot;</span></span><br><span class="line">            ), <span class="comment">// 쿼리 파라미터, page, size 외에 값을 사용</span></span><br><span class="line">            contentClass = BookReservation::<span class="keyword">class</span> <span class="comment">// 시리얼라이즈 대상 클래스</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@StepScope</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">httpPageReaderWriter</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: ItemWriter&lt;BookReservation&gt; = ItemWriter &#123; contents -&gt;</span><br><span class="line">        <span class="keyword">for</span> (content <span class="keyword">in</span> contents) &#123;</span><br><span class="line">            println(content)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">BookReservation</span>(</span><br><span class="line">        <span class="keyword">val</span> bookId: <span class="built_in">Long</span>,</span><br><span class="line">        <span class="keyword">val</span> bookStatus:String,</span><br><span class="line">        <span class="keyword">val</span> userId: <span class="built_in">Long</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Local API를 호출하여 로그를 찍는 간단한 애플리케이션입니다.</p>
<p><img src="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/http-reader-1.png" alt=""></p>
<p>1~20 개의 모든 데이터를 조회하고 로그를 찍는 것을 확인할 수 있습니다.</p>
<h2 id="참고">참고</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162241264&amp;orderClick=JAj">처음 배우는 스프링 부트 2</a></li>
<li><a target="_blank" rel="noopener" href="https://jojoldu.tistory.com/331">Spring Batch 가이드 - Chunk 지향 처리</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Spring-Batch/" rel="tag">Spring Batch</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-data-mongo-repository/"
                    data-tooltip="Spring Data MongoDB Repository 확장"
                    aria-label="이전: Spring Data MongoDB Repository 확장"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-data-mongo-repository-2/"
                    data-tooltip="Spring Data MongoDB Repository 확장 - Aggregation 기반 페이징 처리"
                    aria-label="다음: Spring Data MongoDB Repository 확장 - Aggregation 기반 페이징 처리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>


<!-- Comment -->
<!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-data-mongo-repository/"
                    data-tooltip="Spring Data MongoDB Repository 확장"
                    aria-label="이전: Spring Data MongoDB Repository 확장"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-data-mongo-repository-2/"
                    data-tooltip="Spring Data MongoDB Repository 확장 - Aggregation 기반 페이징 처리"
                    aria-label="다음: Spring Data MongoDB Repository 확장 - Aggregation 기반 페이징 처리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-batch-http-page-item-reader/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>

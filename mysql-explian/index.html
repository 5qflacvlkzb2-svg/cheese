
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Mysql Explain - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"\n해당 글은 MySQL 5.7 완벽 분석을 정리한 내용입니다.\n\nMySQL 옵티마이저 구조#\n\nMySQL 옵티마이저는 비용 기반으로 어떤 실행 계획으로 쿼리를 실행했을 때 비용이 얼마나 발생하는지를 계산해하여 비용이 가장 적은 것을 택하게 됩니다. 어디까지나 추정 값이므로 정확한 비용은 실행 전까지 정확하게는 알 수 없습니다.\nEXPLAIN#\nEXPLAIN은 MySQL 서버가 어떠한 쿼리를 실행할 것인가, 즉 실행 계획이 무엇인지 알고 싶을 때 사용하는 기본적인 명령어이다. 5.6 부터는 JSON 형식의 출력도할 수 있게 되었다. MySQL Workbench와의 결합으로 시각화할 수도 있습니다. 이 부분은 아래에서 다루겠습니다.\n테이블 구조#\n\nEXPLAIN을 살펴 보기 이전 ERD를 살펴보겠습니다. member는 회원 정보이고, orders는 주문 목록, transaction은 해당 주문의 거래 정보입니다.\nEXPLAIN 결과#\nEXPLAIN은 MySQL 서버가 어떠한 쿼리를 실행할 것인가, 즉 실행 계획이 무엇인지 알고 싶을 때 사용하는 기본적인 명령어이다. 5.6 부터는 JSON 형식의 출력도할 수 있게 되었다\n123456explainselect m.*, o.*, t.*from member m         inner join orders o on m.id = o.member_id         inner join transaction t on o.transaction_id = t.idwhere m.id in (1, 2, 33)\n\n\n\nid\nselect_type\ntable\npartitions\ntype\npossible_keys\nkey\nkey_len\nref\nrows\nfiltered\nExtra\n\n\n\n\n‘1’\n‘SIMPLE’\n‘m’\nNULL\n‘range’\n‘PRIMARY’\n‘PRIMARY’\n‘8’\nNULL\n‘3’\n‘100.00’\n‘Using where’\n\n\n‘1’\n‘SIMPLE’\n‘o’\nNULL\n‘ref’\n‘FKpktxw…’\n‘FKpktxw…’\n‘8’\n‘sample.m.id’\n‘90’\n‘100.00’\nNULL\n\n\n‘1’\n‘SIMPLE’\n‘t’\nNULL\n‘eq_ref’\n‘PRIMARY’\n‘PRIMARY’\n‘8’\n‘sample.o.transaction_id’\n‘1’\n‘100.00’\nNULL\n\n\n\ntable#\n어떤 테이블에 대한 접근을 표시하고 있는지는 table 필드에 표시되어있다.\nid#\nid는 SELECT에 붙은 번호를 말한다. MySQL은 조인을 하나의 단위로 실행하기 때문에 id는 그 쿼리에 실행 단위를 식별하는 것이다. 따라서 조인만 수행하는 쿼리에서는 id는 항상 1이 된다.\nselect_type#\nselect_type은 항상 SIMPLE 이된다. 복잡한 조인을 해도 SIMPLE이 된다. 서브쿼리나 UNION이 있으면 id와 select_type이 변한다.\npartitions#\npartitions는 파티셔닝이 되어 있는 경우에 사용되는 필드이다. 이 쿼리에서 사용된 테이블을 모두 파티셔닝이 되어 있지 않기 때문에 이 필드가 모두 NULL로 출력되았다. 파티셔닝 되어 있는 경우는 반드시 이 필드를 확인하자\ntype#\ntype은 접근 방식을 표시하는 필드다. 접근 방식은 테이블에서 어떻게 행데이터를 가져올것인가를 가리킨다. 위 EXPLAIN에서는 ALL, eq_ref, ref가 있는데 ALL, eq_ref는 조인시 기본 키나 고유키를 사용하여 하나의 값으로 접근(최대 1행만을 정확하게 패치), ref는 여러 개의 행을 패치할 가능성이 있는 접근을 의미한다. 접근 방식은 대상 테이블로의 접근이 효율적일지 여부를 판단하는 데 아주 중요한 항목이다.\n이들 접근 방식 가운데도 주의가 필요한 것은 ALL, index, ref_or_null이다. ALL, index 두 가지는 테이블 또는 특정 인덱스가 전체 행에 접근하기 때문에 테이블 크기가 크면 효율이 떨어진다. ref_or_null의 경우 NUL이 들어있는 행은 인덱스의 맨 앞에 모아서 저장하지만 그 건수가 많으면 MySQL 서버의 작업량이 방대해진다. 다시 말해서 ALL 이외의 접근 방식은 모두 인덱스를 사용한다.\n접근 방식이 ALL 또는 index인 경우는 그 쿼리로 사용할 수 있는 적절한 인덱스가 없다는 의미일 수도 있다. 위 쿼리에서 Country 테이블에 대한 접근은 ALL이지만 이는 WHERE 구의 조건을 지정하지 않았기 때문이다. 그러한 쿼리에서 드라이빙 테이블에 접근한다면 전체 행을 스캔 할수 밖에 없다.\n\n\n\n접근 방식\n설명\n\n\n\n\nconst\n기본 키 또는 고유키에 의한 loockup(등가비교), 조인이 아닌 가장 외부의 테이블에 접근 하는 방식, 결과는 항상 1행이다. 단 기본 키, 고유 키를 사용하고 있으므로 범위 검색으로 지정하는 경우 const가 되지 않는다\n\n\nsystem\n테이블에 1행밖에 없는 경우의 특수한 접근 방식\n\n\nALL\n전체 행 스캔, 테이블의 데이터 전체에 접근한다.\n\n\nindex\n인덱스 스캔, 테이블의 특정 인덱스의 전체 엔트리에 접근한다.\n\n\neq_ref\n조인이 내부 테이블로 접근할 때 기본키 또는 공유 키에 의한 lookup이 일어난다. const와 비슷하지만 조인의 내부 테이블에 접근한다는 점이 다르다\n\n\nref\n고유 키가아닌 인덱스에 대한 등가비교, 여러 개 행에 접근할 가능성이 있다.\n\n\nref_or_null\nref와 마찬가지로 인덱스 접근 시 맨 앞에 저장되어 있는 NULL의 엔트리를 검색한다.\n\n\nrange\n인덱스 특정 범위의 행에 접근한다\n\n\nfulltext\nfulltext 인덱스를 사용한 검색\n\n\nindex_merge\n여러 개인스턴스를 사용해 행을 가져오고 그 결과를 통합한다.\n\n\nunique_subquery\nIN 서브쿼리 접근에서 기본 키 또는 고유 키를 사용한다. 이 방식은 쓸데 없는 오버헤드를 줄여 상당히 빠르다.\n\n\nindex_subquery\nunique_sunquery와 거의 비슷하지만 고유한 인덱스를 사용하지 않는 점이 다르다. 이 접근 방식도 상당히 빠르다\n\n\n\npossible_keys#\npossible_keys 필드는 이용 가능성있는 인덱스의 목록이다.\nkey#\npossible_keys 필드는 이용 가능성있는 인덱스의 목록 중에서 실제로 옵티마이저가 선택한 인덱스가 key가 된다. 위 EXPLAN 에서는 County 테이블(첫 번째 행)의 Key는 NULL 인데 이는 행 데이터를 가져오기 위해 인덱스를 사용할 수 없다는 의미이다.\nkey_len#\nkey_len 필드는 선택된 인덱스의 길이를 의미한다. 중요한 필드는 아니지만 인덱스가 너무 긴 것도 비효율적이므로 기억해두자.\nrows#\nrows는 이 접근 방식을 사용해 몇 행을 가져왔는가를 표시한다. 최초에 접근하는 테이블에 대해서 쿼리 전체에 의해 접근하는 행 수, 그 이후에 테이블에 대해서는 1행의 조인으로 평균 몇 행에 접근했는가를 표시한다. 단 어디까지나 통계 값으로 계산한 값이므로 실제 행 수와 반드시 일치하지 않는다.\nfiltered#\nfiltered는 행 데이터를 가져와 거이에서 WHERE 구의 검색 조건이 적용되면 몇행이 남는지를 표시한다. 이 값도 통계 값 바탕으로 계산한 값이므로 현실의 값과 반드시 일치하지 않는다.\nextra#\nExtra 필드는 옵티마이저가 동작하는데 대해서 우리에게 알려주는 힌트다. 이 필드는 EXPLAN을 사용해 옵티마이저의 행동을 파악할때 아주 중요하다.\n\n\n\nExtra\n설명\n\n\n\n\nUsing where\n접근 방식을 설명한 것으로, 테이블에서 행을 가져온 후 추가적으로 검색조건을 적용해 행의 범위를 축소한 것을 표시한다.\n\n\nUsing index\n테이블에는 접근하지 않고 인덱스에서만 접근해서 쿼티를 해결하는 것을 의미한다. 커버링 인덱스로 처리됨 index only scan이라고도 부른다\n\n\nUsing index for group-by\nUsing index와 유사하지만 GROUP BY가 포함되어 있는 쿼리를 커버링 인덱스로 해결할 수 있음을 나타낸다\n\n\nUsing filesort\nORDER BY 인덱스로 해결하지 못하고, filesort(MySQL의 quick sort)로 행을 정렬한 것을 나타낸다.\n\n\nUsing temporary\n암묵적으로 임시 테이블이 생성된 것을 표시한다.\n\n\nUsing where with pushed\n엔진 컨디션 pushdown 최적화가 일어난 것을 표시한다. 현재는 NDB만 유효\n\n\nUsing index condition\n인덱스 컨디션 pushdown(ICP) 최적화가 일어났음을 표시한다. ICP는 멀티 칼럼 인덱스에서 왼쪽부터 순서대로 칼럼을 지정하지 않는 경우에도 인덱스를 이용하는 실행 계획이다.\n\n\nUsing MRR\n멀티 레인지 리드(MRR) 최적화가 사용되었음을 표시한다.\n\n\nUsing join buffer(Block Nested Loop)\n조인에 적절한 인덱스가 없어 조인 버퍼를 이용했음을 표시한다.\n\n\nUsing join buffer(Batched Key Access)\nBatched Key Access(BKAJ) 알고리즘을 위한 조인 버퍼를 사용했음을 표시한다.\n\n\n\nJSON 형식 EXPLAIN#\n1234567explainformat = jsonselect m.*, o.*, t.*from member m         inner join orders o on m.id = o.member_id         inner join transaction t on o.transaction_id = t.idwhere m.id in (1, 2, 33)\nJSON 형식의 EXPLAIN은 기존의 표 형식 보다 출력되는 정보가 많다. 5.7 부터는 비용에 관한 정보를 부여주어서 표 형식에 비해 편리하다. JOSN 형식의 EXPLAIN에는 Extra 필드에서 Using WHERE 라고만 출력되는 것이 attached_condition로 나와서 구체적으러 어떤 조건이 적용되는지 알 수 있다.\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104&#123;  &quot;query_block&quot;: &#123;    &quot;select_id&quot;: 1,    &quot;cost_info&quot;: &#123;      &quot;query_cost&quot;: &quot;449.03&quot;    &#125;,    &quot;nested_loop&quot;: [      &#123;        &quot;table&quot;: &#123;          &quot;table_name&quot;: &quot;m&quot;,          &quot;access_type&quot;: &quot;range&quot;,          &quot;possible_keys&quot;: [            &quot;PRIMARY&quot;          ],          &quot;key&quot;: &quot;PRIMARY&quot;,          &quot;used_key_parts&quot;: [            &quot;id&quot;          ],          &quot;key_length&quot;: &quot;8&quot;,          &quot;rows_examined_per_scan&quot;: 3,          &quot;rows_produced_per_join&quot;: 3,          &quot;filtered&quot;: &quot;100.00&quot;,          &quot;cost_info&quot;: &#123;            &quot;read_cost&quot;: &quot;3.61&quot;,            &quot;eval_cost&quot;: &quot;0.60&quot;,            &quot;prefix_cost&quot;: &quot;4.21&quot;,            &quot;data_read_per_join&quot;: &quot;6K&quot;          &#125;,          &quot;used_columns&quot;: [            &quot;id&quot;,            &quot;email&quot;,            &quot;name&quot;          ],          &quot;attached_condition&quot;: &quot;(`sample`.`m`.`id` in (1,2,33))&quot;        &#125;      &#125;,      &#123;        &quot;table&quot;: &#123;          &quot;table_name&quot;: &quot;o&quot;,          &quot;access_type&quot;: &quot;ref&quot;,          &quot;possible_keys&quot;: [            &quot;FKpktxwhj3x9m4gth5ff6bkqgeb&quot;,            &quot;FKrylnffj7sn97iepyqadlfnsg0&quot;          ],          &quot;key&quot;: &quot;FKpktxwhj3x9m4gth5ff6bkqgeb&quot;,          &quot;used_key_parts&quot;: [            &quot;member_id&quot;          ],          &quot;key_length&quot;: &quot;8&quot;,          &quot;ref&quot;: [            &quot;sample.m.id&quot;          ],          &quot;rows_examined_per_scan&quot;: 90,          &quot;rows_produced_per_join&quot;: 272,          &quot;filtered&quot;: &quot;100.00&quot;,          &quot;cost_info&quot;: &#123;            &quot;read_cost&quot;: &quot;63.00&quot;,            &quot;eval_cost&quot;: &quot;54.55&quot;,            &quot;prefix_cost&quot;: &quot;121.76&quot;,            &quot;data_read_per_join&quot;: &quot;279K&quot;          &#125;,          &quot;used_columns&quot;: [            &quot;id&quot;,            &quot;order_number&quot;,            &quot;member_id&quot;,            &quot;transaction_id&quot;          ]        &#125;      &#125;,      &#123;        &quot;table&quot;: &#123;          &quot;table_name&quot;: &quot;t&quot;,          &quot;access_type&quot;: &quot;eq_ref&quot;,          &quot;possible_keys&quot;: [            &quot;PRIMARY&quot;          ],          &quot;key&quot;: &quot;PRIMARY&quot;,          &quot;used_key_parts&quot;: [            &quot;id&quot;          ],          &quot;key_length&quot;: &quot;8&quot;,          &quot;ref&quot;: [            &quot;sample.o.transaction_id&quot;          ],          &quot;rows_examined_per_scan&quot;: 1,          &quot;rows_produced_per_join&quot;: 272,          &quot;filtered&quot;: &quot;100.00&quot;,          &quot;cost_info&quot;: &#123;            &quot;read_cost&quot;: &quot;272.73&quot;,            &quot;eval_cost&quot;: &quot;54.55&quot;,            &quot;prefix_cost&quot;: &quot;449.03&quot;,            &quot;data_read_per_join&quot;: &quot;820K&quot;          &#125;,          &quot;used_columns&quot;: [            &quot;id&quot;,            &quot;code&quot;,            &quot;partner_transaction_id&quot;,            &quot;payment_method_type&quot;          ]        &#125;      &#125;    ]  &#125;&#125;\nVisual Explain#\n\nMySQL Workbench을 사용하면 Visual Explain를 활용할 수 있습니다. 가장 직관적으로 Explain을 확인할 수 있습니다.\n\n","dateCreated":"2019-10-13T13:55:28+09:00","dateModified":"2025-01-31T22:31:40+09:00","datePublished":"2019-10-13T13:55:28+09:00","description":"해당 글은 MySQL 5.7 완벽 분석을 정리한 내용입니다.","headline":"Mysql Explain","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/mysql-explian/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/mysql-explian/","keywords":"MySQL"}</script>
    <meta name="description" content="해당 글은 MySQL 5.7 완벽 분석을 정리한 내용입니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Mysql Explain">
<meta property="og:url" content="https://cheese10yun.github.io/mysql-explian/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="해당 글은 MySQL 5.7 완벽 분석을 정리한 내용입니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://github.com/cheese10yun/TIL/raw/master/assets/mysql-sql-executor-flow.png">
<meta property="og:image" content="https://github.com/cheese10yun/TIL/blob/master/assets/smaple-erd.png?raw=true">
<meta property="og:image" content="https://github.com/cheese10yun/TIL/blob/master/assets/mysql-visual-explain.gif?raw=true">
<meta property="og:image" content="https://github.com/cheese10yun/TIL/blob/master/assets/mysql-explain.png?raw=true">
<meta property="article:published_time" content="2019-10-13T04:55:28.000Z">
<meta property="article:modified_time" content="2025-01-31T13:31:40.688Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/cheese10yun/TIL/raw/master/assets/mysql-sql-executor-flow.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Mysql Explain
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-10-13T13:55:28+09:00">
	
		    2019/10/13
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <blockquote>
<p>해당 글은 <a target="_blank" rel="noopener" href="http://www.yes24.com/Product/Goods/72270172?">MySQL 5.7 완벽 분석</a>을 정리한 내용입니다.</p>
</blockquote>
<h2><span id="mysql-obtimaijeo-gujo">MySQL 옵티마이저 구조</span><a href="#mysql-obtimaijeo-gujo" class="header-anchor">#</a></h2>
<p><img src="https://github.com/cheese10yun/TIL/raw/master/assets/mysql-sql-executor-flow.png" alt></p>
<p>MySQL 옵티마이저는 비용 기반으로 어떤 실행 계획으로 쿼리를 실행했을 때 비용이 얼마나 발생하는지를 계산해하여 비용이 가장 적은 것을 택하게 됩니다. 어디까지나 추정 값이므로 정확한 비용은 실행 전까지 정확하게는 알 수 없습니다.</p>
<h2><span id="explain">EXPLAIN</span><a href="#explain" class="header-anchor">#</a></h2>
<p>EXPLAIN은 MySQL 서버가 어떠한 쿼리를 실행할 것인가, <strong>즉 실행 계획이 무엇인지 알고 싶을 때 사용하는 기본적인 명령어이다.</strong> 5.6 부터는 JSON 형식의 출력도할 수 있게 되었다. MySQL Workbench와의 결합으로 시각화할 수도 있습니다. 이 부분은 아래에서 다루겠습니다.</p>
<h2><span id="teibeul-gujo">테이블 구조</span><a href="#teibeul-gujo" class="header-anchor">#</a></h2>
<p><img src="https://github.com/cheese10yun/TIL/blob/master/assets/smaple-erd.png?raw=true" alt></p>
<p><code>EXPLAIN</code>을 살펴 보기 이전 ERD를 살펴보겠습니다. member는 회원 정보이고, orders는 주문 목록, transaction은 해당 주문의 거래 정보입니다.</p>
<h2><span id="explain-gyeolgwa">EXPLAIN 결과</span><a href="#explain-gyeolgwa" class="header-anchor">#</a></h2>
<p>EXPLAIN은 MySQL 서버가 어떠한 쿼리를 실행할 것인가, 즉 실행 계획이 무엇인지 알고 싶을 때 사용하는 기본적인 명령어이다. 5.6 부터는 JSON 형식의 출력도할 수 있게 되었다</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">explain</span><br><span class="line"><span class="keyword">select</span> m.<span class="operator">*</span>, o.<span class="operator">*</span>, t.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> <span class="keyword">member</span> m</span><br><span class="line">         <span class="keyword">inner</span> <span class="keyword">join</span> orders o <span class="keyword">on</span> m.id <span class="operator">=</span> o.member_id</span><br><span class="line">         <span class="keyword">inner</span> <span class="keyword">join</span> transaction t <span class="keyword">on</span> o.transaction_id <span class="operator">=</span> t.id</span><br><span class="line"><span class="keyword">where</span> m.id <span class="keyword">in</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">33</span>)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>id</th>
<th>select_type</th>
<th>table</th>
<th>partitions</th>
<th>type</th>
<th>possible_keys</th>
<th>key</th>
<th>key_len</th>
<th>ref</th>
<th>rows</th>
<th>filtered</th>
<th>Extra</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘1’</td>
<td>‘SIMPLE’</td>
<td>‘m’</td>
<td>NULL</td>
<td>‘range’</td>
<td>‘PRIMARY’</td>
<td>‘PRIMARY’</td>
<td>‘8’</td>
<td>NULL</td>
<td>‘3’</td>
<td>‘100.00’</td>
<td>‘Using where’</td>
</tr>
<tr>
<td>‘1’</td>
<td>‘SIMPLE’</td>
<td>‘o’</td>
<td>NULL</td>
<td>‘ref’</td>
<td>‘FKpktxw…’</td>
<td>‘FKpktxw…’</td>
<td>‘8’</td>
<td>‘<a target="_blank" rel="noopener" href="http://sample.m.id">sample.m.id</a>’</td>
<td>‘90’</td>
<td>‘100.00’</td>
<td>NULL</td>
</tr>
<tr>
<td>‘1’</td>
<td>‘SIMPLE’</td>
<td>‘t’</td>
<td>NULL</td>
<td>‘eq_ref’</td>
<td>‘PRIMARY’</td>
<td>‘PRIMARY’</td>
<td>‘8’</td>
<td>‘sample.o.transaction_id’</td>
<td>‘1’</td>
<td>‘100.00’</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<h3><span id="table">table</span><a href="#table" class="header-anchor">#</a></h3>
<p>어떤 테이블에 대한 접근을 표시하고 있는지는 table 필드에 표시되어있다.</p>
<h3><span id="id">id</span><a href="#id" class="header-anchor">#</a></h3>
<p>id는 SELECT에 붙은 번호를 말한다. MySQL은 조인을 하나의 단위로 실행하기 때문에 id는 그 쿼리에 실행 단위를 식별하는 것이다. 따라서 조인만 수행하는 쿼리에서는 id는 항상 1이 된다.</p>
<h3><span id="select-type">select_type</span><a href="#select-type" class="header-anchor">#</a></h3>
<p>select_type은 항상 SIMPLE 이된다. 복잡한 조인을 해도 SIMPLE이 된다. 서브쿼리나 UNION이 있으면 id와 select_type이 변한다.</p>
<h3><span id="partitions">partitions</span><a href="#partitions" class="header-anchor">#</a></h3>
<p>partitions는 파티셔닝이 되어 있는 경우에 사용되는 필드이다. 이 쿼리에서 사용된 테이블을 모두 파티셔닝이 되어 있지 않기 때문에 이 필드가 모두 NULL로 출력되았다. 파티셔닝 되어 있는 경우는 반드시 이 필드를 확인하자</p>
<h3><span id="type">type</span><a href="#type" class="header-anchor">#</a></h3>
<p>type은 접근 방식을 표시하는 필드다. 접근 방식은 테이블에서 어떻게 행데이터를 가져올것인가를 가리킨다. 위 EXPLAIN에서는 ALL, eq_ref, ref가 있는데 ALL, eq_ref는 조인시 기본 키나 고유키를 사용하여 하나의 값으로 접근(최대 1행만을 정확하게 패치), ref는 여러 개의 행을 패치할 가능성이 있는 접근을 의미한다. <strong>접근 방식은 대상 테이블로의 접근이 효율적일지 여부를 판단하는 데 아주 중요한 항목이다.</strong></p>
<p>이들 접근 방식 가운데도 주의가 필요한 것은 ALL, index, ref_or_null이다. <strong>ALL, index 두 가지는 테이블 또는 특정 인덱스가 전체 행에 접근하기 때문에 테이블 크기가 크면 효율이 떨어진다. ref_or_null의 경우 NUL이 들어있는 행은 인덱스의 맨 앞에 모아서 저장하지만 그 건수가 많으면 MySQL 서버의 작업량이 방대해진다. 다시 말해서 ALL 이외의 접근 방식은 모두 인덱스를 사용한다.</strong></p>
<p>접근 방식이 ALL 또는 index인 경우는 그 쿼리로 사용할 수 있는 적절한 인덱스가 없다는 의미일 수도 있다. 위 쿼리에서 Country 테이블에 대한 접근은 ALL이지만 이는 WHERE 구의 조건을 지정하지 않았기 때문이다. 그러한 쿼리에서 드라이빙 테이블에 접근한다면 전체 행을 스캔 할수 밖에 없다.</p>
<table>
<thead>
<tr>
<th>접근 방식</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>const</td>
<td>기본 키 또는 고유키에 의한 loockup(등가비교), 조인이 아닌 가장 외부의 테이블에 접근 하는 방식, 결과는 항상 1행이다. 단 기본 키, 고유 키를 사용하고 있으므로 범위 검색으로 지정하는 경우 const가 되지 않는다</td>
</tr>
<tr>
<td>system</td>
<td>테이블에 1행밖에 없는 경우의 특수한 접근 방식</td>
</tr>
<tr>
<td>ALL</td>
<td>전체 행 스캔, 테이블의 데이터 전체에 접근한다.</td>
</tr>
<tr>
<td>index</td>
<td>인덱스 스캔, 테이블의 특정 인덱스의 전체 엔트리에 접근한다.</td>
</tr>
<tr>
<td>eq_ref</td>
<td>조인이 내부 테이블로 접근할 때 기본키 또는 공유 키에 의한 lookup이 일어난다. const와 비슷하지만 조인의 내부 테이블에 접근한다는 점이 다르다</td>
</tr>
<tr>
<td>ref</td>
<td>고유 키가아닌 인덱스에 대한 등가비교, 여러 개 행에 접근할 가능성이 있다.</td>
</tr>
<tr>
<td>ref_or_null</td>
<td>ref와 마찬가지로 인덱스 접근 시 맨 앞에 저장되어 있는 NULL의 엔트리를 검색한다.</td>
</tr>
<tr>
<td>range</td>
<td>인덱스 특정 범위의 행에 접근한다</td>
</tr>
<tr>
<td>fulltext</td>
<td>fulltext 인덱스를 사용한 검색</td>
</tr>
<tr>
<td>index_merge</td>
<td>여러 개인스턴스를 사용해 행을 가져오고 그 결과를 통합한다.</td>
</tr>
<tr>
<td>unique_subquery</td>
<td>IN 서브쿼리 접근에서 기본 키 또는 고유 키를 사용한다. 이 방식은 쓸데 없는 오버헤드를 줄여 상당히 빠르다.</td>
</tr>
<tr>
<td>index_subquery</td>
<td>unique_sunquery와 거의 비슷하지만 고유한 인덱스를 사용하지 않는 점이 다르다. 이 접근 방식도 상당히 빠르다</td>
</tr>
</tbody>
</table>
<h3><span id="possible-keys">possible_keys</span><a href="#possible-keys" class="header-anchor">#</a></h3>
<p>possible_keys 필드는 이용 가능성있는 인덱스의 목록이다.</p>
<h3><span id="key">key</span><a href="#key" class="header-anchor">#</a></h3>
<p>possible_keys 필드는 이용 가능성있는 인덱스의 목록 중에서 실제로 옵티마이저가 선택한 인덱스가 key가 된다. 위 EXPLAN 에서는 County 테이블(첫 번째 행)의 <strong>Key는 NULL 인데 이는 행 데이터를 가져오기 위해 인덱스를 사용할 수 없다는 의미이다.</strong></p>
<h3><span id="key-len">key_len</span><a href="#key-len" class="header-anchor">#</a></h3>
<p>key_len 필드는 선택된 인덱스의 길이를 의미한다. 중요한 필드는 아니지만 인덱스가 너무 긴 것도 비효율적이므로 기억해두자.</p>
<h3><span id="rows">rows</span><a href="#rows" class="header-anchor">#</a></h3>
<p>rows는 이 접근 방식을 사용해 몇 행을 가져왔는가를 표시한다. 최초에 접근하는 테이블에 대해서 쿼리 전체에 의해 접근하는 행 수, 그 이후에 테이블에 대해서는 1행의 조인으로 평균 몇 행에 접근했는가를 표시한다. 단 어디까지나 통계 값으로 계산한 값이므로 실제 행 수와 반드시 일치하지 않는다.</p>
<h3><span id="filtered">filtered</span><a href="#filtered" class="header-anchor">#</a></h3>
<p>filtered는 행 데이터를 가져와 거이에서 WHERE 구의 검색 조건이 적용되면 몇행이 남는지를 표시한다. 이 값도 통계 값 바탕으로 계산한 값이므로 현실의 값과 반드시 일치하지 않는다.</p>
<h3><span id="extra">extra</span><a href="#extra" class="header-anchor">#</a></h3>
<p>Extra 필드는 옵티마이저가 동작하는데 대해서 우리에게 알려주는 힌트다. 이 필드는 EXPLAN을 사용해 옵티마이저의 행동을 파악할때 아주 중요하다.</p>
<table>
<thead>
<tr>
<th>Extra</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>Using where</td>
<td>접근 방식을 설명한 것으로, 테이블에서 행을 가져온 후 추가적으로 검색조건을 적용해 행의 범위를 축소한 것을 표시한다.</td>
</tr>
<tr>
<td>Using index</td>
<td>테이블에는 접근하지 않고 인덱스에서만 접근해서 쿼티를 해결하는 것을 의미한다. <strong>커버링 인덱스로 처리됨 index only scan이라고도 부른다</strong></td>
</tr>
<tr>
<td>Using index for group-by</td>
<td>Using index와 유사하지만 GROUP BY가 포함되어 있는 쿼리를 커버링 인덱스로 해결할 수 있음을 나타낸다</td>
</tr>
<tr>
<td>Using filesort</td>
<td>ORDER BY 인덱스로 해결하지 못하고, filesort(MySQL의 quick sort)로 행을 정렬한 것을 나타낸다.</td>
</tr>
<tr>
<td>Using temporary</td>
<td>암묵적으로 임시 테이블이 생성된 것을 표시한다.</td>
</tr>
<tr>
<td>Using where with pushed</td>
<td>엔진 컨디션 pushdown 최적화가 일어난 것을 표시한다. 현재는 NDB만 유효</td>
</tr>
<tr>
<td>Using index condition</td>
<td>인덱스 컨디션 pushdown(ICP) 최적화가 일어났음을 표시한다. ICP는 멀티 칼럼 인덱스에서 왼쪽부터 순서대로 칼럼을 지정하지 않는 경우에도 인덱스를 이용하는 실행 계획이다.</td>
</tr>
<tr>
<td>Using MRR</td>
<td>멀티 레인지 리드(MRR) 최적화가 사용되었음을 표시한다.</td>
</tr>
<tr>
<td>Using join buffer(Block Nested Loop)</td>
<td>조인에 적절한 인덱스가 없어 조인 버퍼를 이용했음을 표시한다.</td>
</tr>
<tr>
<td>Using join buffer(Batched Key Access)</td>
<td>Batched Key Access(BKAJ) 알고리즘을 위한 조인 버퍼를 사용했음을 표시한다.</td>
</tr>
</tbody>
</table>
<h2><span id="json-hyeongsig-explain">JSON 형식 EXPLAIN</span><a href="#json-hyeongsig-explain" class="header-anchor">#</a></h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">explain</span><br><span class="line">format <span class="operator">=</span> json</span><br><span class="line"><span class="keyword">select</span> m.<span class="operator">*</span>, o.<span class="operator">*</span>, t.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> <span class="keyword">member</span> m</span><br><span class="line">         <span class="keyword">inner</span> <span class="keyword">join</span> orders o <span class="keyword">on</span> m.id <span class="operator">=</span> o.member_id</span><br><span class="line">         <span class="keyword">inner</span> <span class="keyword">join</span> transaction t <span class="keyword">on</span> o.transaction_id <span class="operator">=</span> t.id</span><br><span class="line"><span class="keyword">where</span> m.id <span class="keyword">in</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">33</span>)</span><br></pre></td></tr></table></figure>
<p>JSON 형식의 EXPLAIN은 기존의 표 형식 보다 출력되는 정보가 많다. 5.7 부터는 비용에 관한 정보를 부여주어서 표 형식에 비해 편리하다. JOSN 형식의 EXPLAIN에는 Extra 필드에서 Using WHERE 라고만 출력되는 것이 attached_condition로 나와서 구체적으러 어떤 조건이 적용되는지 알 수 있다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query_block&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;select_id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cost_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;query_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;449.03&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;nested_loop&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;table&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;table_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;m&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;access_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;range&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;possible_keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;PRIMARY&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PRIMARY&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_key_parts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key_length&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_examined_per_scan&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_produced_per_join&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;filtered&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100.00&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;cost_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;read_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3.61&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;eval_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.60&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;prefix_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4.21&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;data_read_per_join&quot;</span><span class="punctuation">:</span> <span class="string">&quot;6K&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_columns&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;id&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;email&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;name&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;attached_condition&quot;</span><span class="punctuation">:</span> <span class="string">&quot;(`sample`.`m`.`id` in (1,2,33))&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;table&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;table_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;o&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;access_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ref&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;possible_keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;FKpktxwhj3x9m4gth5ff6bkqgeb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;FKrylnffj7sn97iepyqadlfnsg0&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FKpktxwhj3x9m4gth5ff6bkqgeb&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_key_parts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;member_id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key_length&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ref&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;sample.m.id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_examined_per_scan&quot;</span><span class="punctuation">:</span> <span class="number">90</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_produced_per_join&quot;</span><span class="punctuation">:</span> <span class="number">272</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;filtered&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100.00&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;cost_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;read_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63.00&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;eval_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;54.55&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;prefix_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;121.76&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;data_read_per_join&quot;</span><span class="punctuation">:</span> <span class="string">&quot;279K&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_columns&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;id&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;order_number&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;member_id&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;transaction_id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;table&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;table_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;t&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;access_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eq_ref&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;possible_keys&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;PRIMARY&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PRIMARY&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_key_parts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;key_length&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ref&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;sample.o.transaction_id&quot;</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_examined_per_scan&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;rows_produced_per_join&quot;</span><span class="punctuation">:</span> <span class="number">272</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;filtered&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100.00&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;cost_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;read_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;272.73&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;eval_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;54.55&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;prefix_cost&quot;</span><span class="punctuation">:</span> <span class="string">&quot;449.03&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;data_read_per_join&quot;</span><span class="punctuation">:</span> <span class="string">&quot;820K&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;used_columns&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;id&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;code&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;partner_transaction_id&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;payment_method_type&quot;</span></span><br><span class="line">          <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2><span id="visual-explain">Visual Explain</span><a href="#visual-explain" class="header-anchor">#</a></h2>
<p><img src="https://github.com/cheese10yun/TIL/blob/master/assets/mysql-visual-explain.gif?raw=true" alt></p>
<p>MySQL Workbench을 사용하면 Visual Explain를 활용할 수 있습니다. 가장 직관적으로 Explain을 확인할 수 있습니다.</p>
<p><img src="https://github.com/cheese10yun/TIL/blob/master/assets/mysql-explain.png?raw=true" alt></p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/MySQL/" rel="tag">MySQL</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/intellij-execute-gradle-task/"
                    data-tooltip="인텔리제이 Execute Gradle task로 Gradle를 쉽게 사용하자"
                    aria-label="이전: 인텔리제이 Execute Gradle task로 Gradle를 쉽게 사용하자"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ConstraintValidator/"
                    data-tooltip="ConstraintValidator을 이용해서 효과적인 검증"
                    aria-label="다음: ConstraintValidator을 이용해서 효과적인 검증"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/mysql-explian/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/mysql-explian/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>


<!-- Comment -->
<!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/intellij-execute-gradle-task/"
                    data-tooltip="인텔리제이 Execute Gradle task로 Gradle를 쉽게 사용하자"
                    aria-label="이전: 인텔리제이 Execute Gradle task로 Gradle를 쉽게 사용하자"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ConstraintValidator/"
                    data-tooltip="ConstraintValidator을 이용해서 효과적인 검증"
                    aria-label="다음: ConstraintValidator을 이용해서 효과적인 검증"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/mysql-explian/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/mysql-explian/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/mysql-explian/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/mysql-explian/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>

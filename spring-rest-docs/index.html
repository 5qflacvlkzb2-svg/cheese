
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Spring REST Docs - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"코드는 GitHub에 공개 되어 있습니다.\nREST Docs 소개\nSpring REST Docs는 테스트 코드 기반으로 RESTful 문서생성을 돕는 도구로 기본적으로 Asciidoctor를 사용하여 HTML를 생성합니다. Spring MVC 테스트 프레임워크로 생성된 snippet을 사용해서 snippet이 올바르지 않으면 생성된 테스트가 실패하여 정확성을 보장해줍니다.\nRest Docs vs Swagger\n우선 Rest Docs과 Swagger는 성격이 많이 다르다고 생각합니다. Swagger는 RESTful 문서에 대한 명세 보다는 Postman Tool 처럼 특정 API를 쉽게 호출해볼수 있는 것에 초점이 맞춰져있다고 생각합니다. 다시 말해 Swagger는 API 명세에 대한 기능은 어느정도 제공해주지만 그것은 효율적이지 못하다고 생각합니다.\n12345678910111213@ApiOperation(value = &quot;View a list of available products&quot;, response = Iterable.class)@ApiResponses(value = &#123;        @ApiResponse(code = 200, message = &quot;Successfully retrieved list&quot;),        @ApiResponse(code = 401, message = &quot;You are not authorized to view the resource&quot;),        @ApiResponse(code = 403, message = &quot;Accessing the resource you were trying to reach is forbidden&quot;),        @ApiResponse(code = 404, message = &quot;The resource you were trying to reach is not found&quot;)&#125;)@RequestMapping(value = &quot;/list&quot;, method= RequestMethod.GET, produces = &quot;application/json&quot;)public Iterable list(Model model)&#123;    Iterable productList = productService.listAllProducts();    return productList;&#125;\n\n코드 출처\n\nSwagger는 RESTful에대한 문서명세를 위와같은 어노테이션 방법으로 제공해줍니다. 이런 방법은 다음과 같은 단점이 있다고 생각합니다.\n\n실제 코드에 영향을 미치지 않지만 지속해서 추가됨으로써 실제 코드보다 문서 명세에 대한 코드가 더 길어져 전체적인 가독성이 떨어집니다.\n해당 코드는 주석일뿐 로직에 영향을 미치지 않기 때문에 비즈니스 로직이 변경되더라도 문서를 갱신하지 않아 결국 문서와 코드가 일치하지 않게 됩니다.\n정상적인 Reponse에 대한 명세 일뿐 status 2xx 이외의 값에 대한 정의가 힘듭니다. 이것을 정의하더라도 주석 형태로 정의하게 되어 결국 시간이 지나면 문서와 코드가 일치하지 않게 됩니다.\n\n제 개인적인 결론은 RESTful API에 대한 명세관점에서는 둘은 비교 대상이 되기 힘들다고 생각합니다. Rest Docs는 테스트 코드 기반으로 문서가 작성되기 때문에 문서와 실제 코드의 일치성이 높고 테스트코드로 문서가 표현되기 때문에 실제 코드에 어떠한 코드 추가도 필요가 없다는 장점이 크다고 생각합니다. Swaager이외에도 실제 자바 주석문으로 RESTful API를 명세하는 서비스도 있지만 결국 문서와 코드의 일치성 등 다양항문제로 현재로써는 Rest Docs가 가장 효율적인 RESTful API 명세 도구라고 생각합니다.\npom.xml 설정\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;dependencies&gt;    ...    &lt;!-- (1) --&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;        &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;        &lt;scope&gt;test&lt;/scope&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;&lt;plugins&gt;    &lt;plugin&gt;    &lt;!-- (2) --&gt;        &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;        &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;        &lt;version&gt;1.5.3&lt;/version&gt;        &lt;executions&gt;            &lt;execution&gt;                &lt;id&gt;generate-docs&lt;/id&gt;                &lt;phase&gt;prepare-package&lt;/phase&gt;                &lt;goals&gt;                    &lt;goal&gt;process-asciidoc&lt;/goal&gt;                &lt;/goals&gt;                &lt;configuration&gt;                    &lt;backend&gt;html&lt;/backend&gt;                    &lt;doctype&gt;book&lt;/doctype&gt;                &lt;/configuration&gt;            &lt;/execution&gt;        &lt;/executions&gt;        &lt;dependencies&gt;        &lt;!-- (3) --&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;                &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;                &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;    &lt;/plugin&gt;    &lt;plugin&gt;    &lt;!-- (4) --&gt;        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;        &lt;version&gt;2.7&lt;/version&gt;        &lt;executions&gt;            &lt;execution&gt;                &lt;id&gt;copy-resources&lt;/id&gt;                &lt;phase&gt;prepare-package&lt;/phase&gt;                &lt;goals&gt;                    &lt;goal&gt;copy-resources&lt;/goal&gt;                &lt;/goals&gt;                &lt;configuration&gt;                    &lt;outputDirectory&gt;                        $&#123;project.build.outputDirectory&#125;/static/docs                    &lt;/outputDirectory&gt;                    &lt;resources&gt;                        &lt;resource&gt;                            &lt;directory&gt;                                $&#123;project.build.directory&#125;/generated-docs                            &lt;/directory&gt;                        &lt;/resource&gt;                    &lt;/resources&gt;                &lt;/configuration&gt;            &lt;/execution&gt;        &lt;/executions&gt;    &lt;/plugin&gt;&lt;/plugins&gt;\n\n(1) restdocs 의존성을 추가합니다. scope는 test로 지정합니다.\n(2) asciidoctor 플러그인을 추가합니다.\n(3) spring-restdocs-asciidoctor 의존성을 추가합니다. 해당 의존성이 추가되면 snippets 이 자동으로 구성됩니다.\n(4) Asciidoctor 플러그인 설정 입니다.\n\noutputDirectory 문서가 출력되는 디렉토리 경로 입니다. 실제 /target/classes/static/docs/ 경로에 문서가 생셩됩니다.\n\n\n\nTest Code\nTest Code 설정\n1234567891011121314151617181920212223@RunWith(SpringRunner.class)@SpringBootTestpublic class MemberControllerTest &#123;    @Rule public JUnitRestDocumentation restDocumentation = new JUnitRestDocumentation(); // (1)    @Autowired private WebApplicationContext context;    private MockMvc mockMvc; // (2)    private RestDocumentationResultHandler document;    // (3)    @Before    public void setUp() &#123;        this.document = document(                &quot;&#123;class-name&#125;/&#123;method-name&#125;&quot;,                 preprocessResponse(prettyPrint())        );        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.context)                .apply(documentationConfiguration(this.restDocumentation))                .alwaysDo(document)                .build();    &#125;&#125;\n\n(1) Spring Rest Docs는 JUnit TestNG 등 다양한 테스트 프레임워크를 지원합니다. 본 예제는 JUnit 기반으로 테스트를 진행 하기 때문에 JUnitRestDocumentation 객체를 생성했습니다.\n(2) MockMvc, WebTestClient, Rest Assured 등 다양한 방식으로 Controller에 대한 테스트를 진행 할 수 있습니다. 본 예제는 MockMvc 기반으로 Controller 테스트를 진행하겠습니다.\n(3) RestDocumentationResultHandler 객체와 MockMvc 객체를 생성합니다.\n\n&#123;class-name&#125;/&#123;method-name&#125; 설정은 해당 테스트 클래스의 이름 메서드 이름 기반으로 디렉토리 경로를 설정해서  snippets을 생성합니다. target/generated-snippets/member-controller-test/get_member 에 저장됩니다.\npreprocessResponse(prettyPrint() 설정을 통해서 해당 문서가 이쁘게 출력됩니다. 예를들어 JSON Response 값이 JSON 포멧팅에 맞게 출력됩니다.\nalwaysDo() 메서드로 위에서 생성된 RestDocumentationResultHandler 객체를 의존성 주입해줍니다. 모든 mockMvc 테스트에 대한 snippets이 생성됩니다.\n\n\n\nMember 조회 Test Code\n12345678910111213141516171819202122232425262728293031@RunWith(SpringRunner.class)@SpringBootTestpublic class MemberControllerTest &#123;    ...    @Test    public void get_member() throws Exception &#123;        mockMvc.perform(get(&quot;/members/&#123;id&#125;&quot;, 1L)                .accept(MediaType.APPLICATION_JSON))                .andDo(print())                .andExpect(status().isOk())                .andDo(document.document(                        // (1)                        pathParameters(                                parameterWithName(&quot;id&quot;).description(&quot;Member&#x27;s id&quot;)                        ),                        // (2)                        responseFields(                                fieldWithPath(&quot;email.value&quot;).description(&quot;The Member&#x27;s email address&quot;),                                fieldWithPath(&quot;address.city&quot;).description(&quot;The Member&#x27;s address city&quot;),                                fieldWithPath(&quot;address.street&quot;).description(&quot;The Member&#x27;s address street&quot;),                                fieldWithPath(&quot;address.zipCode&quot;).description(&quot;The Member&#x27;s address zipCode&quot;)                        )                ))                .andExpect(jsonPath(&quot;$.email.value&quot;, is(notNullValue())))                .andExpect(jsonPath(&quot;$.address.city&quot;, is(notNullValue())))                .andExpect(jsonPath(&quot;$.address.street&quot;, is(notNullValue())))                .andExpect(jsonPath(&quot;$.address.zipCode&quot;, is(notNullValue())))        ;    &#125;&#125;\n\n(1) Path Parameter에 대한 정의 입니다. parameterWithName(&quot;id&quot;).description(&quot;Member's id&quot;) 설정을 통해서 간단하게 문서화가 가능합니다.\n(2) responseFields() 메서드로 reponse 값들에 대한 문서 정의가 가능합니다.\n\n실제 Document 모습입니다.\n\n    \n\n기본적으로 snippets은 6개가 생성됩니다.\n\n    \n\n기본 snippets 6개 이외에도  path-parameters.adoc, response-fields.adoc 이 추가로 생성된 것을 확인 할 수 있습니다. 이것은 (1), (2) 에서 추가로 문서 작성 코드를 통해서 작성된 것입니다. 해당  snippets은 만들지 않더라도 기본적인 문서는 갖출 수 있습니다. 하지만 해당 코드를 작성하면 문서와 코드의 일치 성이 높아집니다.\n만약 fieldWithPath(&quot;email.value&quot;).description(&quot;The Member's email address&quot;) 코드를 주석하고 테스트 코드를 실행하게 되면\n\n위의 그림과 같이 해당 페이로드가 문서화 되지 않았다는 메시지오 함께 테스트 코드가 실패하게 됩니다. 물론 response-body.adoc으로 매번 response 값이 갱신 되기 때문에 문서와의 일치 성은 보장 받을 수 있습니다. 해당 필드 값에 대한 타입과 정의까지 철저 하게 관리하고 싶으시다면 작성하는것도 좋다고 생각합니다.\nDocument 구조 adoc 파일 작성\n테스트코드 기반으로 생성된 snippets을 실제 문서로 만들기 위한 .adoc 파일을 만들어야합니다. 문서의 뼈대 같은 구조를 잡아주는 작업 입니다.\nsrc/main/asciidoc/  경로에 api-guide.adoc 파일을 생성하고 테스트 코드를 통해서 생성된 snippets 파일들을 아래와 같이 추가합니다. api-guide.adoc 파일의 일부분 이라서 전체 파일을 보시는 것이 좋습니다.\n123456789101112= Member== Member 조회include::&#123;snippets&#125;/member-controller-test/get_member/path-parameters.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/http-response.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/response-fields.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/curl-request.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/http-request.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/httpie-request.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/request-body.adoc[]include::&#123;snippets&#125;/member-controller-test/get_member/response-body.adoc[]\n최종 Document\n12mvn installmvn spring-boot:run\n테스트 코드를 실행하고 스프링 부트를 실행 이후 http://localhost:8080/docs/api-guide.html를 접속하면 Rest Docs 기반의 문서를 확인 할 수 있습니다.\n\n마무리\nMember 조회 이외의 테스트 코드들도 있으니 프로젝트의 전체 코드를 보시는 것이 좋을 거 같습니다. 위에서 언급했듯이 문서와 코드의 지속적인 일치성, 비즈니스 로직을 가리는 과도한 문서화의 코드들이 침입하지 않는 점 등 제가 생각하기에는 Rest Docs는 정말 좋은 문서 도구라고 생각합니다. 반드시 테스트 코드를 작성해야 한다는 것도 테스트 코드에 익숙하지 않은 상태에서는 조금은 어렵겠지만 반강제적으로라도 테스트 코드를 작성하게 도와주는 점도 있어 이 또한 큰 장점이라고 생각합니다.\n","dateCreated":"2018-10-27T00:00:00+09:00","dateModified":"2025-01-31T20:24:39+09:00","datePublished":"2018-10-27T00:00:00+09:00","description":"Spring REST Docs는 테스트 코드 기반으로 RESTful 문서생성을 돕는 도구로 기본적으로 Asciidoctor를 사용하여 HTML를 생성합니다.","headline":"Spring REST Docs","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/spring-rest-docs/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/spring-rest-docs/","keywords":"Spring, Test"}</script>
    <meta name="description" content="Spring REST Docs는 테스트 코드 기반으로 RESTful 문서생성을 돕는 도구로 기본적으로 Asciidoctor를 사용하여 HTML를 생성합니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Spring REST Docs">
<meta property="og:url" content="https://cheese10yun.github.io/spring-rest-docs/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="Spring REST Docs는 테스트 코드 기반으로 RESTful 문서생성을 돕는 도구로 기본적으로 Asciidoctor를 사용하여 HTML를 생성합니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/member-error.png">
<meta property="og:image" content="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/document-main.png">
<meta property="article:published_time" content="2018-10-26T15:00:00.000Z">
<meta property="article:modified_time" content="2025-01-31T11:24:39.660Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="Test">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/member-error.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Spring REST Docs
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-10-27T00:00:00+09:00">
	
		    2018/10/27
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><strong>코드는 <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/springboot-restdocs#test-code-%EC%84%A4%EC%A0%95">GitHub</a>에 공개 되어 있습니다.</strong></p>
<h2 id="REST-Docs-소개">REST Docs 소개</h2>
<p>Spring REST Docs는 테스트 코드 기반으로 RESTful 문서생성을 돕는 도구로 기본적으로 Asciidoctor를 사용하여 HTML를 생성합니다. Spring MVC 테스트 프레임워크로 생성된 snippet을 사용해서 snippet이 올바르지 않으면 생성된 테스트가 실패하여 정확성을 보장해줍니다.</p>
<h2 id="Rest-Docs-vs-Swagger">Rest Docs vs Swagger</h2>
<p>우선 Rest Docs과 Swagger는 성격이 많이 다르다고 생각합니다. Swagger는 RESTful 문서에 대한 명세 보다는 Postman Tool 처럼 특정 API를 쉽게 호출해볼수 있는 것에 초점이 맞춰져있다고 생각합니다. 다시 말해 Swagger는 API 명세에 대한 기능은 어느정도 제공해주지만 그것은 효율적이지 못하다고 생각합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiOperation(value = &quot;View a list of available products&quot;, response = Iterable.class)</span></span><br><span class="line"><span class="meta">@ApiResponses(value = &#123;</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = 200, message = &quot;Successfully retrieved list&quot;),</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = 401, message = &quot;You are not authorized to view the resource&quot;),</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = 403, message = &quot;Accessing the resource you were trying to reach is forbidden&quot;),</span></span><br><span class="line"><span class="meta">        @ApiResponse(code = 404, message = &quot;The resource you were trying to reach is not found&quot;)</span></span><br><span class="line"><span class="meta">&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/list&quot;, method= RequestMethod.GET, produces = &quot;application/json&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Iterable <span class="title function_">list</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    <span class="type">Iterable</span> <span class="variable">productList</span> <span class="operator">=</span> productService.listAllProducts();</span><br><span class="line">    <span class="keyword">return</span> productList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="https://springframework.guru/spring-boot-restful-api-documentation-with-swagger-2/">코드 출처</a></li>
</ul>
<p>Swagger는 RESTful에대한 문서명세를 위와같은 어노테이션 방법으로 제공해줍니다. 이런 방법은 다음과 같은 단점이 있다고 생각합니다.</p>
<ul>
<li>실제 코드에 영향을 미치지 않지만 지속해서 추가됨으로써 실제 코드보다 문서 명세에 대한 코드가 더 길어져 전체적인 가독성이 떨어집니다.</li>
<li><strong>해당 코드는 주석일뿐 로직에 영향을 미치지 않기 때문에 비즈니스 로직이 변경되더라도 문서를 갱신하지 않아 결국 문서와 코드가 일치하지 않게 됩니다.</strong></li>
<li><strong>정상적인 Reponse에 대한 명세 일뿐 status 2xx 이외의 값에 대한 정의가 힘듭니다. 이것을 정의하더라도 주석 형태로 정의하게 되어 결국 시간이 지나면 문서와 코드가 일치하지 않게 됩니다.</strong></li>
</ul>
<p>제 개인적인 결론은 RESTful API에 대한 명세관점에서는 둘은 비교 대상이 되기 힘들다고 생각합니다. <strong>Rest Docs는 테스트 코드 기반으로 문서가 작성되기 때문에 문서와 실제 코드의 일치성이 높고 테스트코드로 문서가 표현되기 때문에 실제 코드에 어떠한 코드 추가도 필요가 없다는 장점이 크다고 생각합니다.</strong> Swaager이외에도 실제 자바 주석문으로 RESTful API를 명세하는 서비스도 있지만 결국 문서와 코드의 일치성 등 다양항문제로 현재로써는 Rest Docs가 가장 효율적인 RESTful API 명세 도구라고 생각합니다.</p>
<h2 id="pom-xml-설정">pom.xml 설정</h2>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">&lt;!-- (1) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.restdocs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-restdocs-mockmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- (2) --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.asciidoctor<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>asciidoctor-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>generate-docs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goal</span>&gt;</span>process-asciidoc<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">backend</span>&gt;</span>html<span class="tag">&lt;/<span class="name">backend</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">doctype</span>&gt;</span>book<span class="tag">&lt;/<span class="name">doctype</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- (3) --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.restdocs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-restdocs-asciidoctor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- (4) --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>copy-resources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goal</span>&gt;</span>copy-resources<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                        $&#123;project.build.outputDirectory&#125;/static/docs</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">directory</span>&gt;</span></span><br><span class="line">                                $&#123;project.build.directory&#125;/generated-docs</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>(1) <code>restdocs</code> 의존성을 추가합니다. <code>scope</code>는 test로 지정합니다.</li>
<li>(2) <code>asciidoctor</code> 플러그인을 추가합니다.</li>
<li>(3) <code>spring-restdocs-asciidoctor</code> 의존성을 추가합니다. 해당 의존성이 추가되면 <code>snippets</code> 이 자동으로 구성됩니다.</li>
<li>(4) <code>Asciidoctor</code> 플러그인 설정 입니다.
<ul>
<li><code>outputDirectory</code> 문서가 출력되는 디렉토리 경로 입니다. 실제 <code>/target/classes/static/docs/</code> 경로에 문서가 생셩됩니다.</li>
</ul>
</li>
</ul>
<h2 id="Test-Code">Test Code</h2>
<h3 id="Test-Code-설정">Test Code 설정</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberControllerTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Rule</span> <span class="keyword">public</span> <span class="type">JUnitRestDocumentation</span> <span class="variable">restDocumentation</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JUnitRestDocumentation</span>(); <span class="comment">// (1)</span></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="keyword">private</span> WebApplicationContext context;</span><br><span class="line">    <span class="keyword">private</span> MockMvc mockMvc; <span class="comment">// (2)</span></span><br><span class="line">    <span class="keyword">private</span> RestDocumentationResultHandler document;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (3)</span></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.document = document(</span><br><span class="line">                <span class="string">&quot;&#123;class-name&#125;/&#123;method-name&#125;&quot;</span>, </span><br><span class="line">                preprocessResponse(prettyPrint())</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.mockMvc = MockMvcBuilders.webAppContextSetup(<span class="built_in">this</span>.context)</span><br><span class="line">                .apply(documentationConfiguration(<span class="built_in">this</span>.restDocumentation))</span><br><span class="line">                .alwaysDo(document)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>(1) Spring Rest Docs는 <code>JUnit</code> <code>TestNG</code> 등 다양한 테스트 프레임워크를 지원합니다. 본 예제는 <code>JUnit</code> 기반으로 테스트를 진행 하기 때문에 <code>JUnitRestDocumentation</code> 객체를 생성했습니다.</li>
<li>(2) <code>MockMvc</code>, <code>WebTestClient</code>, <code>Rest Assured</code> 등 다양한 방식으로 Controller에 대한 테스트를 진행 할 수 있습니다. 본 예제는 <code>MockMvc</code> 기반으로 Controller 테스트를 진행하겠습니다.</li>
<li>(3) <code>RestDocumentationResultHandler</code> 객체와 <code>MockMvc</code> 객체를 생성합니다.
<ul>
<li><code>&#123;class-name&#125;/&#123;method-name&#125;</code> 설정은 해당 테스트 클래스의 이름 메서드 이름 기반으로 디렉토리 경로를 설정해서  <code>snippets</code>을 생성합니다. <code>target/generated-snippets/member-controller-test/get_member </code>에 저장됩니다.</li>
<li><code>preprocessResponse(prettyPrint()</code> 설정을 통해서 해당 문서가 이쁘게 출력됩니다. 예를들어 JSON Response 값이 JSON 포멧팅에 맞게 출력됩니다.</li>
<li><code>alwaysDo()</code> 메서드로 위에서 생성된 <code>RestDocumentationResultHandler</code> 객체를 의존성 주입해줍니다. 모든 <code>mockMvc</code> 테스트에 대한 <code>snippets</code>이 생성됩니다.</li>
</ul>
</li>
</ul>
<h3 id="Member-조회-Test-Code">Member 조회 Test Code</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberControllerTest</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">get_member</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        mockMvc.perform(get(<span class="string">&quot;/members/&#123;id&#125;&quot;</span>, <span class="number">1L</span>)</span><br><span class="line">                .accept(MediaType.APPLICATION_JSON))</span><br><span class="line">                .andDo(print())</span><br><span class="line">                .andExpect(status().isOk())</span><br><span class="line">                .andDo(document.document(</span><br><span class="line">                        <span class="comment">// (1)</span></span><br><span class="line">                        pathParameters(</span><br><span class="line">                                parameterWithName(<span class="string">&quot;id&quot;</span>).description(<span class="string">&quot;Member&#x27;s id&quot;</span>)</span><br><span class="line">                        ),</span><br><span class="line">                        <span class="comment">// (2)</span></span><br><span class="line">                        responseFields(</span><br><span class="line">                                fieldWithPath(<span class="string">&quot;email.value&quot;</span>).description(<span class="string">&quot;The Member&#x27;s email address&quot;</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">&quot;address.city&quot;</span>).description(<span class="string">&quot;The Member&#x27;s address city&quot;</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">&quot;address.street&quot;</span>).description(<span class="string">&quot;The Member&#x27;s address street&quot;</span>),</span><br><span class="line">                                fieldWithPath(<span class="string">&quot;address.zipCode&quot;</span>).description(<span class="string">&quot;The Member&#x27;s address zipCode&quot;</span>)</span><br><span class="line">                        )</span><br><span class="line">                ))</span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$.email.value&quot;</span>, is(notNullValue())))</span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$.address.city&quot;</span>, is(notNullValue())))</span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$.address.street&quot;</span>, is(notNullValue())))</span><br><span class="line">                .andExpect(jsonPath(<span class="string">&quot;$.address.zipCode&quot;</span>, is(notNullValue())))</span><br><span class="line">        ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>(1) Path Parameter에 대한 정의 입니다. <code>parameterWithName(&quot;id&quot;).description(&quot;Member's id&quot;)</code> 설정을 통해서 간단하게 문서화가 가능합니다.</li>
<li>(2) <code>responseFields()</code> 메서드로 reponse 값들에 대한 문서 정의가 가능합니다.</li>
</ul>
<p>실제 Document 모습입니다.</p>
<p algin ="cneter">
    <img src ="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/member-document.png">
</p>
<p>기본적으로 <code>snippets</code>은 6개가 생성됩니다.</p>
<p algin ="cneter">
    <img src ="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/target.png">
</p>
<p>기본 <code>snippets</code> 6개 이외에도  <code>path-parameters.adoc</code>, <code>response-fields.adoc</code> 이 추가로 생성된 것을 확인 할 수 있습니다. 이것은 (1), (2) 에서 추가로 문서 작성 코드를 통해서 작성된 것입니다. 해당  <code>snippets</code>은 만들지 않더라도 기본적인 문서는 갖출 수 있습니다. <strong>하지만 해당 코드를 작성하면 문서와 코드의 일치 성이 높아집니다.</strong></p>
<p>만약 <code>fieldWithPath(&quot;email.value&quot;).description(&quot;The Member's email address&quot;)</code> 코드를 주석하고 테스트 코드를 실행하게 되면</p>
<p><img src="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/member-error.png" alt="member-error"></p>
<p>위의 그림과 같이 해당 페이로드가 문서화 되지 않았다는 메시지오 함께 테스트 코드가 실패하게 됩니다. 물론 <code>response-body.adoc</code>으로 매번 response 값이 갱신 되기 때문에 문서와의 일치 성은 보장 받을 수 있습니다. 해당 필드 값에 대한 타입과 정의까지 철저 하게 관리하고 싶으시다면 작성하는것도 좋다고 생각합니다.</p>
<h2 id="Document-구조-adoc-파일-작성">Document 구조 adoc 파일 작성</h2>
<p>테스트코드 기반으로 생성된 <code>snippets</code>을 실제 문서로 만들기 위한 <code>.adoc</code> 파일을 만들어야합니다. 문서의 뼈대 같은 구조를 잡아주는 작업 입니다.</p>
<p><code>src/main/asciidoc/</code>  경로에 <code>api-guide.adoc</code> 파일을 생성하고 테스트 코드를 통해서 생성된 <code>snippets</code> 파일들을 아래와 같이 추가합니다. <strong><code>api-guide.adoc</code> 파일의 일부분 이라서 전체 파일을 보시는 것이 좋습니다.</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">= Member</span><br><span class="line"></span><br><span class="line">== Member 조회</span><br><span class="line"></span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/path-parameters.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/http-response.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/response-fields.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/curl-request.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/http-request.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/httpie-request.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/request-body.adoc[]</span><br><span class="line">include::&#123;snippets&#125;/member-controller-test/get_member/response-body.adoc[]</span><br></pre></td></tr></table></figure>
<h2 id="최종-Document">최종 Document</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn install</span><br><span class="line">mvn spring-boot:run</span><br></pre></td></tr></table></figure>
<p>테스트 코드를 실행하고 스프링 부트를 실행 이후 <a target="_blank" rel="noopener" href="http://localhost:8080/docs/api-guide.html">http://localhost:8080/docs/api-guide.html</a>를 접속하면 Rest Docs 기반의 문서를 확인 할 수 있습니다.</p>
<p><img src="https://github.com/cheese10yun/springboot-restdocs/raw/master/assets/document-main.png" alt="document-main"></p>
<h2 id="마무리">마무리</h2>
<p>Member 조회 이외의 테스트 코드들도 있으니 프로젝트의 전체 코드를 보시는 것이 좋을 거 같습니다. 위에서 언급했듯이 문서와 코드의 지속적인 일치성, 비즈니스 로직을 가리는 과도한 문서화의 코드들이 침입하지 않는 점 등 제가 생각하기에는 Rest Docs는 정말 좋은 문서 도구라고 생각합니다. 반드시 테스트 코드를 작성해야 한다는 것도 테스트 코드에 익숙하지 않은 상태에서는 조금은 어렵겠지만 반강제적으로라도 테스트 코드를 작성하게 도와주는 점도 있어 이 또한 큰 장점이라고 생각합니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Spring/" rel="tag">Spring</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Test/" rel="tag">Test</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-csrf/"
                    data-tooltip="Spring Security CSRF 설정"
                    aria-label="이전: Spring Security CSRF 설정"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/oauth2/"
                    data-tooltip="OAuth2 인증 방식 정리"
                    aria-label="다음: OAuth2 인증 방식 정리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>


<!-- Comment -->
<!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-csrf/"
                    data-tooltip="Spring Security CSRF 설정"
                    aria-label="이전: Spring Security CSRF 설정"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/oauth2/"
                    data-tooltip="OAuth2 인증 방식 정리"
                    aria-label="다음: OAuth2 인증 방식 정리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-rest-docs/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-rest-docs/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-rest-docs/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-rest-docs/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>

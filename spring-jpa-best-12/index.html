
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Spring-Jpa Best Practices step-12 - 페이징 API 만들기 - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"\n해당 코드는 Github를 확인해주세요.\n\nJPA를 이용해서 Paging API를 만들어 보도록 하겠습니다. 페이징 처리는 거의 모든 웹 개발에서 사용하고 있습니다. 그렇게 복잡하고 어려운 구현은 아니나 실제 쿼리로 작성할 때는 상당히 번거로운 작업이 됩니다. 또 데이터베이스마다 페이징 쿼리가 조금씩 다르다는 점도 복잡도를 높이는 요인 중 하나입니다.\nSpring Data JPA에서는 이러한 문제를 아주 쉽게 해결할 수 있어 핵심 비즈니스 로직에 집중할 수 있게 해줍니다. 지금부터 예제를 설명하겠습니다.\n기초 작업\n\n이전에 작성한 AccountRepository는 JpaRepository를 상속하고 있습니다. JpaRepository는 PagingAndSortingRepository 클래스를 상속 받고 있습니다. 페이징 작업을 위한 작업은 AccountRepository를 작성한 순간 대부분 끝난 것입니다.\nCurdRepository를 상속하는 것보다 하위 클래스인 JpaRepository를 상속 받아 Repository를 구현하는 것이 좋습니다.\n\n페이징 처리하는 메서드도 간단합니다. 매게변수로 Pageable 받아 Page&lt;T&gt;으로 리턴해줍니다.\nSample Code\n1234567891011121314151617181920@RestController@RequestMapping(&quot;accounts&quot;)public class AccountController &#123;    @GetMapping    public Page&lt;AccountDto.Res&gt; getAccounts(final Pageable pageable) &#123;        return accountService.findAll(pageable).map(AccountDto.Res::new);    &#125;&#125;@Service@Transactional@AllArgsConstructorpublic class AccountService &#123;    ...    @Transactional(readOnly = true)    public Page&lt;Account&gt; findAll(Pageable pageable) &#123;        return accountRepository.findAll(pageable);    &#125;&#125;\n정말 간단합니다. 컨트롤러에서 Pageable 인터페이스를 받고 repository 메서드 findAll(pageable)로 넘기기만 하면됩니다.\n요청\n12curl -X GET \\  http://localhost:8080/accounts\n응답\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&#123;  &quot;content&quot;: [    &#123;      &quot;email&quot;: &#123;        &quot;value&quot;: &quot;test001@test.com&quot;      &#125;,      &quot;password&quot;: &#123;        &quot;value&quot;: &quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;,        &quot;expirationDate&quot;: &quot;+20120-01-20T00:00:00&quot;,        &quot;failedCount&quot;: 0,        &quot;ttl&quot;: 1209604,        &quot;expiration&quot;: false      &#125;,      &quot;fistName&quot;: &quot;first&quot;,      &quot;lastName&quot;: &quot;last&quot;,      &quot;address&quot;: &#123;        &quot;address1&quot;: &quot;address1&quot;,        &quot;address2&quot;: &quot;address2&quot;,        &quot;zip&quot;: &quot;002&quot;      &#125;    &#125;    ...  ],  &quot;pageable&quot;: &#123;    &quot;sort&quot;: &#123;      &quot;sorted&quot;: false,      &quot;unsorted&quot;: true,      &quot;empty&quot;: true    &#125;,    &quot;offset&quot;: 0,    &quot;pageSize&quot;: 20,    &quot;pageNumber&quot;: 0,    &quot;paged&quot;: true,    &quot;unpaged&quot;: false  &#125;,  &quot;last&quot;: true, // 마지막 페이지 여부  &quot;totalPages&quot;: 1, // 전체 페이지가 1개  &quot;totalElements&quot;: 13, // 모든 요소는 13 개  &quot;size&quot;: 20, // 한 페이지에서 보여줄 사이즈의 갯수, size를 제한하지 않으면 기본적으로 20으로 초기화 된다.  &quot;number&quot;: 0,  &quot;sort&quot;: &#123;    &quot;sorted&quot;: false,    &quot;unsorted&quot;: true,    &quot;empty&quot;: true  &#125;,  &quot;numberOfElements&quot;: 13,  &quot;first&quot;: true, // 첫 패이지 여부  &quot;empty&quot;: false // 리스트가 비어 있는지 여부&#125;\nResponse에 상세한 정보들을 내려주고 있습니다. 페이징 하단의 네비게이션을 작성할 때 유용할 정보들이 있습니다. 이렇게 Spring Data JPA를 이용하면 페이징 기능을 간편하게 만들 수 있습니다.\n다양한 요청\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&#123;    &quot;content&quot;: [        &#123;            &quot;email&quot;: &#123;                &quot;value&quot;: &quot;test013@test.com&quot;            &#125;,            &quot;password&quot;: &#123;                &quot;value&quot;: &quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;,                &quot;expirationDate&quot;: &quot;+20120-01-20T00:12:00&quot;,                &quot;failedCount&quot;: 0,                &quot;ttl&quot;: 1209604,                &quot;expiration&quot;: false            &#125;,            &quot;fistName&quot;: &quot;first&quot;,            &quot;lastName&quot;: &quot;last&quot;,            &quot;address&quot;: &#123;                &quot;address1&quot;: &quot;address1&quot;,                &quot;address2&quot;: &quot;address2&quot;,                &quot;zip&quot;: &quot;002&quot;            &#125;        &#125;,        &#123;            &quot;email&quot;: &#123;                &quot;value&quot;: &quot;test012@test.com&quot;            &#125;,            &quot;password&quot;: &#123;                &quot;value&quot;: &quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;,                &quot;expirationDate&quot;: &quot;+20120-01-20T00:11:00&quot;,                &quot;failedCount&quot;: 0,                &quot;ttl&quot;: 1209604,                &quot;expiration&quot;: false            &#125;,            &quot;fistName&quot;: &quot;first&quot;,            &quot;lastName&quot;: &quot;last&quot;,            &quot;address&quot;: &#123;                &quot;address1&quot;: &quot;address1&quot;,                &quot;address2&quot;: &quot;address2&quot;,                &quot;zip&quot;: &quot;002&quot;            &#125;        &#125;    ],    &quot;pageable&quot;: &#123;        &quot;sort&quot;: &#123;            &quot;unsorted&quot;: false,            &quot;sorted&quot;: true,            &quot;empty&quot;: false        &#125;,        &quot;offset&quot;: 0,        &quot;pageSize&quot;: 2,        &quot;pageNumber&quot;: 0,        &quot;paged&quot;: true,        &quot;unpaged&quot;: false    &#125;,    &quot;last&quot;: false,    &quot;totalPages&quot;: 7,    &quot;totalElements&quot;: 13,    &quot;size&quot;: 2,    &quot;number&quot;: 0,    &quot;sort&quot;: &#123;        &quot;unsorted&quot;: false,        &quot;sorted&quot;: true,        &quot;empty&quot;: false    &#125;,    &quot;numberOfElements&quot;: 2,    &quot;first&quot;: true,    &quot;empty&quot;: false&#125;\nPageable은 다양한 요청 이용해서 기본적인 정렬 기능을 제공합니다. page는 실제 페이지를 의미하고 size는 content의 size를 의미합니다. sort는 페이징을 처리 시 정렬을 값을 의미합니다. id,DESC는 id 기준으로 내림차순 정렬을 하겠다는 것입니다.\n아래는 실제 JPA에서 작성한 Query 입니다. 쿼리문을 코드로 작성하기 때문에 실제로 어떤 쿼리가 동작하는지 반드시 확인하는 습관을 갖는 것이 좋습니다.\n1234567891011121314151617181920212223select    account0_.id as id1_0_,    account0_.address1 as address2_0_,    account0_.address2 as address3_0_,    account0_.zip as zip4_0_,    account0_.created_at as created_5_0_,    account0_.email as email6_0_,    account0_.first_name as first_na7_0_,    account0_.last_name as last_nam8_0_,    account0_.password_expiration_date as password9_0_,    account0_.password_failed_count as passwor10_0_,    account0_.password_ttl as passwor11_0_,    account0_.password as passwor12_0_,    account0_.update_at as update_13_0_ from    account account0_ order by    account0_.id desc limit ?select    count(account0_.id) as col_0_0_ from    account account0_\n개선\n위의 Pageable의 개선할 점이 있습니다. 우선 size에 대한 limit이 없습니다. 위의 API에서 size값을 200000을 넘기면 실제 데이터베이스 쿼리문이 200000의 조회할 수 있습니다. 그 밖에 page가 0 부터 시작하는 것들도 개선하는 것이 필요해 보입니다.\nPageRequest\n123456789101112131415161718192021222324public final class PageRequest &#123;    private int page;    private int size;    private Sort.Direction direction;    public void setPage(int page) &#123;        this.page = page &lt;= 0 ? 1 : page;    &#125;    public void setSize(int size) &#123;        int DEFAULT_SIZE = 10;        int MAX_SIZE = 50;        this.size = size &gt; MAX_SIZE ? DEFAULT_SIZE : size;    &#125;    public void setDirection(Sort.Direction direction) &#123;        this.direction = direction;    &#125;    // getter    public org.springframework.data.domain.PageRequest of() &#123;        return org.springframework.data.domain.PageRequest.of(page -1, size, direction, &quot;createdAt&quot;);    &#125;\nPageable을 대체하는 PageRequest 클래스를 작성합니다.\n\nsetPage(int page) 메서드를 통해서 0보다 작은 페이지를 요청했을 경우 1 페이지로 설정합니다.\nsetSize(int size) 메서드를 통해서 요청 사이즈 50 보다 크면 기본 사이즈인 10으로 바인딩 합니다.\nof() 메서드를 통해서 PageRequest 객체를 응답해줍니다. 페이지는 0부터 시작하니 page -1 합니다. 본 예제에서는 sort는 createdAt 기준으로 진행합니다.\n\n컨트롤러\n12345678910@RestController@RequestMapping(&quot;accounts&quot;)public class AccountController &#123;    ...    @GetMapping    public Page&lt;AccountDto.Res&gt; getAccounts(final PageRequest pageable) &#123;        return accountService.findAll(pageable.of()).map(AccountDto.Res::new);    &#125;&#125;\n컨트롤러 영역은 간단합니다. Pageable -&gt; PageRequest 교체하면 됩니다.\n요청\n\npage를 기본 사이즈를 50을 넘는 500을 설정했습니다. PageRequest이 정상 동작한다면 기본 사이즈 10으로 설정해서 페이징 처리가 진행됩니다. 아래는 응답 값입니다.\n123456789101112131415&#123;  &quot;last&quot;: false,  &quot;totalPages&quot;: 2,  &quot;totalElements&quot;: 13,  &quot;size&quot;: 10, // size 값이 10으로 정상 작동  &quot;number&quot;: 0,  &quot;numberOfElements&quot;: 10,  &quot;first&quot;: true,  &quot;sort&quot;: &#123;    &quot;sorted&quot;: true,    &quot;unsorted&quot;: false,    &quot;empty&quot;: false  &#125;,  &quot;empty&quot;: false&#125;\n결론\nSpring Data JPA는 페이징 처리는 데이터베이스마다 페이징 쿼리가 다른 부분들은 신경 쓰지 않고 더 쉽게 구현할 수 있는 장점이 있습니다. 또 Pageable을 통해서 페이징 구현이 가능하지만, 별도의 Request 객체를 두어서 관리하는 것이 안전하고 효과적입니다.\n","dateCreated":"2019-01-21T01:25:00+09:00","dateModified":"2025-02-02T13:43:50+09:00","datePublished":"2019-01-21T01:25:00+09:00","description":"JPA를 이용해서 Paging API를 만들어 보도록 하겠습니다. 페이징 처리는 거의 모든 웹 개발에서 사용하고 있습니다. 그렇게 복잡하고 어려운 구현은 아니나 실제 쿼리로 작성할 때는 상당히 번거로운 작업이 됩니다.","headline":"Spring-Jpa Best Practices step-12 - 페이징 API 만들기","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/spring-jpa-best-12/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/spring-jpa-best-12/","keywords":"Spring, JPA, ORM"}</script>
    <meta name="description" content="JPA를 이용해서 Paging API를 만들어 보도록 하겠습니다. 페이징 처리는 거의 모든 웹 개발에서 사용하고 있습니다. 그렇게 복잡하고 어려운 구현은 아니나 실제 쿼리로 작성할 때는 상당히 번거로운 작업이 됩니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Spring-Jpa Best Practices step-12 - 페이징 API 만들기">
<meta property="og:url" content="https://cheese10yun.github.io/spring-jpa-best-12/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="JPA를 이용해서 Paging API를 만들어 보도록 하겠습니다. 페이징 처리는 거의 모든 웹 개발에서 사용하고 있습니다. 그렇게 복잡하고 어려운 구현은 아니나 실제 쿼리로 작성할 때는 상당히 번거로운 작업이 됩니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/jpa-class-diagram.png">
<meta property="og:image" content="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/data-jpa-paging.png">
<meta property="og:image" content="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/postman-page-request.png">
<meta property="og:image" content="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/swagger-paging.png">
<meta property="article:published_time" content="2019-01-20T16:25:00.000Z">
<meta property="article:modified_time" content="2025-02-02T04:43:50.891Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="JPA">
<meta property="article:tag" content="ORM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/jpa-class-diagram.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Spring-Jpa Best Practices step-12 - 페이징 API 만들기
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-01-21T01:25:00+09:00">
	
		    2019/01/21
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <blockquote>
<p>해당 코드는 <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/spring-jpa-best-practices">Github</a>를 확인해주세요.</p>
</blockquote>
<p>JPA를 이용해서 Paging API를 만들어 보도록 하겠습니다. 페이징 처리는 거의 모든 웹 개발에서 사용하고 있습니다. 그렇게 복잡하고 어려운 구현은 아니나 실제 쿼리로 작성할 때는 상당히 번거로운 작업이 됩니다. 또 데이터베이스마다 페이징 쿼리가 조금씩 다르다는 점도 복잡도를 높이는 요인 중 하나입니다.</p>
<p>Spring Data JPA에서는 이러한 문제를 아주 쉽게 해결할 수 있어 핵심 비즈니스 로직에 집중할 수 있게 해줍니다. 지금부터 예제를 설명하겠습니다.</p>
<h2 id="기초-작업">기초 작업</h2>
<p><img src="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/jpa-class-diagram.png" alt=""></p>
<p>이전에 작성한 <code>AccountRepository</code>는 <code>JpaRepository</code>를 상속하고 있습니다. <code>JpaRepository</code>는 <code>PagingAndSortingRepository</code> 클래스를 상속 받고 있습니다. 페이징 작업을 위한 작업은 <code>AccountRepository</code>를 작성한 순간 대부분 끝난 것입니다.</p>
<p><code>CurdRepository</code>를 상속하는 것보다 하위 클래스인 <code>JpaRepository</code>를 상속 받아 <code>Repository</code>를 구현하는 것이 좋습니다.</p>
<p><img src="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/data-jpa-paging.png" alt=""></p>
<p>페이징 처리하는 메서드도 간단합니다. 매게변수로 <code>Pageable</code> 받아 <code>Page&lt;T&gt;</code>으로 리턴해줍니다.</p>
<h2 id="Sample-Code">Sample Code</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;accounts&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> Page&lt;AccountDto.Res&gt; getAccounts(<span class="keyword">final</span> Pageable pageable) &#123;</span><br><span class="line">        <span class="keyword">return</span> accountService.findAll(pageable).map(AccountDto.Res::<span class="keyword">new</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line">    <span class="keyword">public</span> Page&lt;Account&gt; <span class="title function_">findAll</span><span class="params">(Pageable pageable)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountRepository.findAll(pageable);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>정말 간단합니다. 컨트롤러에서 <code>Pageable</code> 인터페이스를 받고 <code>repository</code> 메서드 <code>findAll(pageable)</code>로 넘기기만 하면됩니다.</p>
<h3 id="요청">요청</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET \</span><br><span class="line">  http://localhost:8080/accounts</span><br></pre></td></tr></table></figure>
<h3 id="응답">응답</h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;test001@test.com&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;+20120-01-20T00:00:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;failedCount&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span> <span class="number">1209604</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;expiration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;fistName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;first&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;last&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;address1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;address2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address2&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;zip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;002&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pageable&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sort&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;sorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;unsorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;offset&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageSize&quot;</span><span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageNumber&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;paged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unpaged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;last&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// 마지막 페이지 여부</span></span><br><span class="line">  <span class="attr">&quot;totalPages&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span> <span class="comment">// 전체 페이지가 1개</span></span><br><span class="line">  <span class="attr">&quot;totalElements&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span> <span class="comment">// 모든 요소는 13 개</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span> <span class="comment">// 한 페이지에서 보여줄 사이즈의 갯수, size를 제한하지 않으면 기본적으로 20으로 초기화 된다.</span></span><br><span class="line">  <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sort&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unsorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;numberOfElements&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;first&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// 첫 패이지 여부</span></span><br><span class="line">  <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span> <span class="comment">// 리스트가 비어 있는지 여부</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Response에 상세한 정보들을 내려주고 있습니다. 페이징 하단의 네비게이션을 작성할 때 유용할 정보들이 있습니다. 이렇게 Spring Data JPA를 이용하면 페이징 기능을 간편하게 만들 수 있습니다.</p>
<h3 id="다양한-요청">다양한 요청</h3>
<p><img src="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/postman-page-request.png" alt=""></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;test013@test.com&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;+20120-01-20T00:12:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;failedCount&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span> <span class="number">1209604</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;expiration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fistName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;first&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;last&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;address1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;address2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address2&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;zip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;002&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;test012@test.com&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$2a$10$tI3Y.nhgC.73LYCszoCaLu3nNEIM4QgeACiNseWlvr1zjrV5NCCs6&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;+20120-01-20T00:11:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;failedCount&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span> <span class="number">1209604</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;expiration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;fistName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;first&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;last&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;address1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;address2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;address2&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;zip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;002&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageable&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;sort&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;unsorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;sorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;offset&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;pageSize&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;pageNumber&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;paged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;unpaged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;last&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;totalPages&quot;</span><span class="punctuation">:</span> <span class="number">7</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;totalElements&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sort&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;unsorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;numberOfElements&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;first&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>Pageable</code>은 다양한 요청 이용해서 기본적인 정렬 기능을 제공합니다. <code>page</code>는 실제 페이지를 의미하고 <code>size</code>는 <code>content</code>의 size를 의미합니다. <code>sort</code>는 페이징을 처리 시 정렬을 값을 의미합니다. <code>id,DESC</code>는 id 기준으로 내림차순 정렬을 하겠다는 것입니다.</p>
<p>아래는 실제 JPA에서 작성한 Query 입니다. 쿼리문을 코드로 작성하기 때문에 실제로 어떤 쿼리가 동작하는지 반드시 확인하는 습관을 갖는 것이 좋습니다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">    account0_.id <span class="keyword">as</span> id1_0_,</span><br><span class="line">    account0_.address1 <span class="keyword">as</span> address2_0_,</span><br><span class="line">    account0_.address2 <span class="keyword">as</span> address3_0_,</span><br><span class="line">    account0_.zip <span class="keyword">as</span> zip4_0_,</span><br><span class="line">    account0_.created_at <span class="keyword">as</span> created_5_0_,</span><br><span class="line">    account0_.email <span class="keyword">as</span> email6_0_,</span><br><span class="line">    account0_.first_name <span class="keyword">as</span> first_na7_0_,</span><br><span class="line">    account0_.last_name <span class="keyword">as</span> last_nam8_0_,</span><br><span class="line">    account0_.password_expiration_date <span class="keyword">as</span> password9_0_,</span><br><span class="line">    account0_.password_failed_count <span class="keyword">as</span> passwor10_0_,</span><br><span class="line">    account0_.password_ttl <span class="keyword">as</span> passwor11_0_,</span><br><span class="line">    account0_.password <span class="keyword">as</span> passwor12_0_,</span><br><span class="line">    account0_.update_at <span class="keyword">as</span> update_13_0_ </span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    account account0_ </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">    account0_.id <span class="keyword">desc</span> limit ?</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">    <span class="built_in">count</span>(account0_.id) <span class="keyword">as</span> col_0_0_ </span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    account account0_</span><br></pre></td></tr></table></figure>
<h2 id="개선">개선</h2>
<p>위의 <code>Pageable</code>의 개선할 점이 있습니다. 우선 <code>size</code>에 대한 limit이 없습니다. 위의 API에서 <code>size</code>값을 200000을 넘기면 실제 데이터베이스 쿼리문이 200000의 조회할 수 있습니다. 그 밖에 page가 0 부터 시작하는 것들도 개선하는 것이 필요해 보입니다.</p>
<h3 id="PageRequest">PageRequest</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">PageRequest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> page;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> Sort.Direction direction;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPage</span><span class="params">(<span class="type">int</span> page)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.page = page &lt;= <span class="number">0</span> ? <span class="number">1</span> : page;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSize</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">DEFAULT_SIZE</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">MAX_SIZE</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">        <span class="built_in">this</span>.size = size &gt; MAX_SIZE ? DEFAULT_SIZE : size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDirection</span><span class="params">(Sort.Direction direction)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.direction = direction;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// getter</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> org.springframework.data.domain.PageRequest <span class="title function_">of</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> org.springframework.data.domain.PageRequest.of(page -<span class="number">1</span>, size, direction, <span class="string">&quot;createdAt&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><code>Pageable</code>을 대체하는 <code>PageRequest</code> 클래스를 작성합니다.</p>
<ul>
<li><code>setPage(int page)</code> 메서드를 통해서 0보다 작은 페이지를 요청했을 경우 1 페이지로 설정합니다.</li>
<li><code>setSize(int size)</code> 메서드를 통해서 요청 사이즈 50 보다 크면 기본 사이즈인 10으로 바인딩 합니다.</li>
<li><code>of()</code> 메서드를 통해서 <code>PageRequest</code> 객체를 응답해줍니다. 페이지는 0부터 시작하니 <code>page -1</code> 합니다. 본 예제에서는 sort는 <code>createdAt</code> 기준으로 진행합니다.</li>
</ul>
<h3 id="컨트롤러">컨트롤러</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;accounts&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountController</span> &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> Page&lt;AccountDto.Res&gt; getAccounts(<span class="keyword">final</span> PageRequest pageable) &#123;</span><br><span class="line">        <span class="keyword">return</span> accountService.findAll(pageable.of()).map(AccountDto.Res::<span class="keyword">new</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>컨트롤러 영역은 간단합니다. <code>Pageable</code> -&gt; <code>PageRequest</code> 교체하면 됩니다.</p>
<h3 id="요청-2">요청</h3>
<p><img src="https://github.com/cheese10yun/spring-jpa-best-practices/raw/master/images/swagger-paging.png" alt=""></p>
<p>page를 기본 사이즈를 50을 넘는 500을 설정했습니다. <code>PageRequest</code>이 정상 동작한다면 기본 사이즈 10으로 설정해서 페이징 처리가 진행됩니다. 아래는 응답 값입니다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;last&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;totalPages&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;totalElements&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span> <span class="comment">// size 값이 10으로 정상 작동</span></span><br><span class="line">  <span class="attr">&quot;number&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;numberOfElements&quot;</span><span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;first&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sort&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unsorted&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;empty&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="결론">결론</h2>
<p>Spring Data JPA는 페이징 처리는 데이터베이스마다 페이징 쿼리가 다른 부분들은 신경 쓰지 않고 더 쉽게 구현할 수 있는 장점이 있습니다. 또 <code>Pageable</code>을 통해서 페이징 구현이 가능하지만, 별도의 <code>Request</code> 객체를 두어서 관리하는 것이 안전하고 효과적입니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/JPA/" rel="tag">JPA</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/ORM/" rel="tag">ORM</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Spring/" rel="tag">Spring</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-jpa-best-13/"
                    data-tooltip="Spring-JPA Best Practices step-13 - Query Dsl이용한 페이징 API 만들기"
                    aria-label="이전: Spring-JPA Best Practices step-13 - Query Dsl이용한 페이징 API 만들기"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-boot-test/"
                    data-tooltip="Spring Boot Test"
                    aria-label="다음: Spring Boot Test"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>


<!-- Comment -->
<!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-jpa-best-13/"
                    data-tooltip="Spring-JPA Best Practices step-13 - Query Dsl이용한 페이징 API 만들기"
                    aria-label="이전: Spring-JPA Best Practices step-13 - Query Dsl이용한 페이징 API 만들기"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-boot-test/"
                    data-tooltip="Spring Boot Test"
                    aria-label="다음: Spring Boot Test"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-jpa-best-12/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-jpa-best-12/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-jpa-best-12/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://cheese10yun.github.io/spring-jpa-best-12/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>

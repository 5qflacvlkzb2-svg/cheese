
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Sql을 통해서 테스트 코드를 쉽게 작성하자 - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"데이터베이스와 의존성이 있는 테스트를 진행하는 경우 given 절에 해당하는 데이터를 set up 한 이후에 로직에 대한 검증을 진행하는 것이 일반적입니다. 이때 given 절에 대한 데이터 set up을 *.sql 파일 기반으로 작성하는 것입니다.\n@Sql 사용법\n123456789101112131415// /src/test/resources/payment-setup.sqlinsert into payment (amount, created_at, order_id, updated_at)values (1000, now(), 1, now()),       (2000, now(), 2, now()),       (3000, now(), 3, now()),       (4000, now(), 4, now()),       (5000, now(), 5, now()),       (6000, now(), 6, now()),       (7000, now(), 7, now()),       (8000, now(), 8, now()),       (9000, now(), 9, now()),       (10000, now(), 10, now()),       (11000, now(), 11, now()),       (12000, now(), 12, now());\n1234567891011121314151617181920212223242526@SpringBootTest@TestInstance(TestInstance.Lifecycle.PER_CLASS)@TestConstructor(autowireMode = TestConstructor.AutowireMode.ALL)class SqlTest(    private val paymentRepository: PaymentRepository) &#123;    @AfterAll    internal fun setUp() &#123;        println(&quot;BeforeAll: 모든 테스트 끝난 이후 &quot;)        println(&quot;payments size $&#123;paymentRepository.findAll().size&#125;&quot;)    &#125;    @Sql(&quot;/payment-setup.sql&quot;)    @Test    fun `sql test code`() &#123;        //given        //when        val payments = paymentRepository.findAll().toList()        //then        then(payments).hasSize(12)        println(&quot;sql test code&quot;)    &#125;&#125;\n사용방법은 간단합니다. @Sql 어노테이션을 작성하고 해당 경로에 *.sql 파일을 위치 시킵니다.\n\n테스트 코드는 통과했고, AfterAll 메서드를 로그를 보면 payments size 12으로 롤백이 진행되지 않는 것을 볼 수 있습니다. 테스트 클래스 상단에 @Transactional 어노테이션을 작성하면 자동 롤백 처리가 됩니다. 한 번 테스트해 보겠습니다.\n\npayments size 0 으로 정상적으로 롤백된것 확인할 수 있습니다.\n@SqlGroup 사용법\u001f\n@SqlGroup은 여러 @Sql 집계하는 컨테이너 어노테이션으로 여러 @Sql을 그룹화하여 사용할 수 있습니다.\n1234spring:    jpa:        properties:            hibernate.hbm2ddl.auto: none\nJPA ddl 설정을 none으로 지정해서 엔티티 기반의 테이블 생성을 off 시켰습니다. 즉 테스트 코드 동작시 자동으로 테이블이 생성되지 않기 때문에 수동으로 생성해야 합니다.\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// schema.sqldrop table if exists payment;drop table if exists payment_back;create table payment(    id         bigint         not null auto_increment,    amount     decimal(19, 2) not null,    created_at datetime       not null,    order_id   bigint         not null,    updated_at datetime       not null,    primary key (id)) engine=InnoDB;create table payment_back(    id       bigint         not null auto_increment,    amount   decimal(19, 2) not null,    order_id bigint         not null,    primary key (id)) engine=InnoDB;create index idx_created_at on payment (created_at);// payment-setup.sqlinsert into payment (amount, created_at, order_id, updated_at)values (1000, now(), 1, now()),       (2000, now(), 2, now()),       (3000, now(), 3, now()),       (4000, now(), 4, now()),       (5000, now(), 5, now()),       (6000, now(), 6, now()),       (7000, now(), 7, now()),       (8000, now(), 8, now()),       (9000, now(), 9, now()),       (10000, now(), 10, now()),       (11000, now(), 11, now()),       (12000, now(), 12, now());// delete.sqldeletefrom payment;deletefrom payment_back;\nschema.sql, payment-setup.sql, delete.sql 각 SQL은 DDL 정의, 데이터 set up, 모든 row 제거 작업을 진행합니다.\n1234567891011121314151617181920212223242526272829303132333435363738394041424344@SpringBootTest@TestInstance(TestInstance.Lifecycle.PER_CLASS)@TestConstructor(autowireMode = TestConstructor.AutowireMode.ALL)//@Transactional 해당 코드를 주석 했기 때문에 테스트 내용이 롤백되지 않는다.class SqlTest(    private val paymentRepository: PaymentRepository) &#123;    @AfterAll    internal fun setUp() &#123;        println(&quot;======AfterAll======&quot;)        println(&quot;payments size $&#123;paymentRepository.findAll().size&#125;&quot;)        println(&quot;======AfterAll======&quot;)    &#125;    @SqlGroup(        Sql(            value = [&quot;/schema.sql&quot;, &quot;/payment-setup.sql&quot;], // (1)            config = SqlConfig( // (2)                dataSource = &quot;dataSource&quot;, // (3)                transactionManager = &quot;transactionManager&quot; // (4)            ),            executionPhase = Sql.ExecutionPhase. BEFORE_TEST_METHOD // (5)        ),        Sql(            value = [&quot;/delete.sql&quot;], // (6)            config = SqlConfig(                dataSource = &quot;dataSource&quot;,                transactionManager = &quot;transactionManager&quot;            ),            executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD // (7)        )    )    @Test    fun `sql test code2`() &#123;        //given        //when        val payments = paymentRepository.findAll().toList()        //then        then(payments).hasSize(12)        println(&quot;sql test code&quot;)    &#125;&#125;\n\n(1): JPA DDL 설정을 off 했기 때문에, 스키마를 생성하고, 해당 테이블의 데이터를 set up을 진행합니다. *.sql 파일을 배열로 구성하면 배열의 index 순서로 sql을 실행합니다.\n(2): Sql에 대한 Config를 지정합니다\n(3): 해당 데이터베이스의 DataSource를 지정합니다.\n(4): 해당 데이터베이스의 TransactionManager를 지정합니다.\n(5): BEFORE_TEST_METHOD으로 테스트 코드가 동작하기 전에 해당 Sql이 동작하게 정의합니다.\n(6): 모든 데이터를 제거하는 SQL을 지정합니다.\n(7): AFTER_TEST_METHOD으로 테스트 코드가 동작 이후에 해당 Sql이 동작하게 정의합니다.\n\n\n테스트 코드가 통과했으니 schema.sql, payment-setup.sql이 정상적으로 동작 했고, AfterAll에서 payments size 0이 출력되었으니 delete.sql도 정사적으로 동작했다는 것을 확인 할 수 있습다.\n이런 기능이 왜 필요할까?\nJPA를 사용하고 있다면 테스트 코드에서 스키마 설정은 DDL 설정으로, 데이터에 대한 롤백은 @Transactional으로 사용하고, 데이터 Set Up은 Entity Manager를 이용해서 사용하는 것이 훨씬 효율 적이라고 생각이 드실 겁니다. 하지만 단순한 프로젝트가 아니라 복잡한 프로젝트에서는 다소 복잡한 환경이 구성됩니다. 여기서 단순하다는 말은 구성이 단순하다는 표현인 것이지 도메인의 복잡도가 낮다던가, 해당 애플리케이션이 해결하려는 문제가 단순하다는 말은 아닙니다.\n제가 해당 기능이 필요했던 이유와 시점은 다음과 같습니다.\nSpring Batch 테스트 코드\n스프링 배치에서는 트랜잭션을 물고 테스트 코드를 작성할 수 없습니다. 그러기 때문에 당연히 테스트 코드 완료 이후에도 데이터가 롤백 되지 않기 때문에 이후 테스트에 영향을 줄 수 있습니다. 이런 경우 Sql.ExecutionPhase.AFTER_TEST_METHOD를 이용해서 테스트 끝난 이후의 데이터를 삭제할 수 있습니다.\n다른 서비스의 DataSoruce를 2개 이상 연결하는 경우\nMaster, Slave 구조에서 DataSoruce를 의미하는 것이 아니라, 전혀 다른 서비스의 DataSource를 2개 이상 연결하는 경우에 유용합나다. 물론 2개 이상의 DataSource를 연결하는 것이 좋다고는 생각이 들지 않지만 실제 개발 황경에서 자주 만나는 환경입니디.\n각기 다른 DataSource이기 때문에 트랜잭션에 트랜잭션 메니저를 명시적으로 선언한 트랜잭션에 데이터는 롤백이 되게고 나머지 하나는 롤백되지 않게 될 수 도 있습니다.\n조금 과격한 예가 될수도 있겠지만, 애플리케이션 구동시 특정 코드 값들을 가져와야하는 경우 데이터베이스 컨넥션을 맺어서 가져오는 경우도 있습니다. 물론 API를 통해서 가져오는 방법이 좋은건 맞지만, 실제로 이런 서비스들은 종종 있습니다.\n중심 서비스가 아닌 데이터베이스에 대해서 굳이 JPA를 사용하는 것이 좋은 판단이 아닐 수도 있기 때문에 해당 코드에 대한 테스트 코드를 작성 시 JPA와 무관하게 스키마를 생성하고, 데이터를 set up 하는 과정들이 필요한 경우 @Sql이 적절한 대안이 될 수 있다고 생각합니다.\n특정 시점의 데이터 Set Up\n커머스 시스템에서 배송중 -&gt; 배송 완료로 주문의 상태가가 변경되는 로직을 작성해야 한다고 가정했을 때 우리는 Order 객체를 배송중 상태로 만드는 givn절이 필요합니다.\n주문의 setter 코드가 모두 열려 있다면 해당 시점의로 객체를 생성하는 것은 어렵지 않습니다. 하지만 setter를 만들지 않는 패턴을 사용하고 있다면 배송중 상태로 실제 객체를 만드는 것은 다소 번거롭습니다. 잘짜여진 코드라고 하면 방어 로직이 충분히 있기 때문에 객체를 대충 만들 수도 없고 모든 예외 사항을 지켜가며 주문 완료 -&gt; 결제 완료 -&gt; 배송 준비 -&gt; 배송중 으로 배송중 상태를 만들어여 합니다.\n이런 경우 JPA같은 경우 다소 번거로울 수 있는 내용을 Sql으로는 쉽게 해결 가능 합니다. insert into를 작성하기만 하면 끝입니다. 물론 이 방법이 좋은 테스트 코드를 작성하는 방법일까라는 의문은 갖고 있습니다.\n결론\n각자 다양한 개발 환경이 있고 그 환경에 맞는 테스트 코드를 작성하는 게 좋다고 생각합니다. 만약 스프링 배치 테스트 코드를 많이 작성하고, 2개 이상의 다른 서비스의 DataSource를 연결하는 프로젝트에서는 @Sql은 효율적인 도구라고 생각합니다.\n","dateCreated":"2021-09-19T02:04:26+09:00","dateModified":"2025-01-31T14:07:27+09:00","datePublished":"2021-09-19T02:04:26+09:00","description":"데이터베이스와 의존성이 있는 테스트를 진행하는 경우 given 절에 해당하는 데이터를 set up 한 이후에 로직에 대한 검증을 진행하는 것이 일반적입니다.","headline":"Sql을 통해서 테스트 코드를 쉽게 작성하자","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/sql-test/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/sql-test/","keywords":"Spring, Test"}</script>
    <meta name="description" content="데이터베이스와 의존성이 있는 테스트를 진행하는 경우 given 절에 해당하는 데이터를 set up 한 이후에 로직에 대한 검증을 진행하는 것이 일반적입니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Sql을 통해서 테스트 코드를 쉽게 작성하자">
<meta property="og:url" content="https://cheese10yun.github.io/sql-test/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="데이터베이스와 의존성이 있는 테스트를 진행하는 경우 given 절에 해당하는 데이터를 set up 한 이후에 로직에 대한 검증을 진행하는 것이 일반적입니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-1.png">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-2.png">
<meta property="og:image" content="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-3.png">
<meta property="article:published_time" content="2021-09-18T17:04:26.000Z">
<meta property="article:modified_time" content="2025-01-31T05:07:27.485Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="Test">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-1.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Sql을 통해서 테스트 코드를 쉽게 작성하자
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-09-19T02:04:26+09:00">
	
		    2021/09/19
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>데이터베이스와 의존성이 있는 테스트를 진행하는 경우 given 절에 해당하는 데이터를 set up 한 이후에 로직에 대한 검증을 진행하는 것이 일반적입니다. 이때 given 절에 대한 데이터 set up을 <code>*.sql</code> 파일 기반으로 작성하는 것입니다.</p>
<h2 id="Sql-사용법">@Sql 사용법</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="operator">/</span>src<span class="operator">/</span>test<span class="operator">/</span>resources<span class="operator">/</span>payment<span class="operator">-</span>setup.sql</span><br><span class="line"><span class="keyword">insert into</span> payment (amount, created_at, order_id, updated_at)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">1000</span>, now(), <span class="number">1</span>, now()),</span><br><span class="line">       (<span class="number">2000</span>, now(), <span class="number">2</span>, now()),</span><br><span class="line">       (<span class="number">3000</span>, now(), <span class="number">3</span>, now()),</span><br><span class="line">       (<span class="number">4000</span>, now(), <span class="number">4</span>, now()),</span><br><span class="line">       (<span class="number">5000</span>, now(), <span class="number">5</span>, now()),</span><br><span class="line">       (<span class="number">6000</span>, now(), <span class="number">6</span>, now()),</span><br><span class="line">       (<span class="number">7000</span>, now(), <span class="number">7</span>, now()),</span><br><span class="line">       (<span class="number">8000</span>, now(), <span class="number">8</span>, now()),</span><br><span class="line">       (<span class="number">9000</span>, now(), <span class="number">9</span>, now()),</span><br><span class="line">       (<span class="number">10000</span>, now(), <span class="number">10</span>, now()),</span><br><span class="line">       (<span class="number">11000</span>, now(), <span class="number">11</span>, now()),</span><br><span class="line">       (<span class="number">12000</span>, now(), <span class="number">12</span>, now())</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@TestInstance(TestInstance.Lifecycle.PER_CLASS)</span></span><br><span class="line"><span class="meta">@TestConstructor(autowireMode = TestConstructor.AutowireMode.ALL)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SqlTest</span>(</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> paymentRepository: PaymentRepository</span><br><span class="line">) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="keyword">internal</span> <span class="function"><span class="keyword">fun</span> <span class="title">setUp</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;BeforeAll: 모든 테스트 끝난 이후 &quot;</span>)</span><br><span class="line">        println(<span class="string">&quot;payments size <span class="subst">$&#123;paymentRepository.findAll().size&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Sql(<span class="string">&quot;/payment-setup.sql&quot;</span>)</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> `sql test code`<span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//given</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//when</span></span><br><span class="line">        <span class="keyword">val</span> payments = paymentRepository.findAll().toList()</span><br><span class="line"></span><br><span class="line">        <span class="comment">//then</span></span><br><span class="line">        then(payments).hasSize(<span class="number">12</span>)</span><br><span class="line">        println(<span class="string">&quot;sql test code&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>사용방법은 간단합니다. <code>@Sql</code> 어노테이션을 작성하고 해당 경로에 <code>*.sql</code> 파일을 위치 시킵니다.</p>
<p><img src="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-1.png" alt=""></p>
<p>테스트 코드는 통과했고, AfterAll 메서드를 로그를 보면 <code>payments size 12</code>으로 롤백이 진행되지 않는 것을 볼 수 있습니다. 테스트 클래스 상단에 <code>@Transactional</code> 어노테이션을 작성하면 자동 롤백 처리가 됩니다. 한 번 테스트해 보겠습니다.</p>
<p><img src="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-2.png" alt=""></p>
<p><code>payments size 0</code> 으로 정상적으로 롤백된것 확인할 수 있습니다.</p>
<h2 id="SqlGroup-사용법">@SqlGroup 사용법</h2>
<p><code>@SqlGroup</code>은 여러 <code>@Sql</code> 집계하는 컨테이너 어노테이션으로 여러 <code>@Sql</code>을 그룹화하여 사용할 수 있습니다.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">jpa:</span></span><br><span class="line">        <span class="attr">properties:</span></span><br><span class="line">            <span class="attr">hibernate.hbm2ddl.auto:</span> <span class="string">none</span></span><br></pre></td></tr></table></figure>
<p>JPA ddl 설정을 none으로 지정해서 엔티티 기반의 테이블 생성을 off 시켰습니다. 즉 테스트 코드 동작시 자동으로 테이블이 생성되지 않기 때문에 수동으로 생성해야 합니다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> schema.sql</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> payment;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> payment_back;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create table</span> payment</span><br><span class="line">(</span><br><span class="line">    id         <span class="type">bigint</span>         <span class="keyword">not null</span> auto_increment,</span><br><span class="line">    amount     <span class="type">decimal</span>(<span class="number">19</span>, <span class="number">2</span>) <span class="keyword">not null</span>,</span><br><span class="line">    created_at datetime       <span class="keyword">not null</span>,</span><br><span class="line">    order_id   <span class="type">bigint</span>         <span class="keyword">not null</span>,</span><br><span class="line">    updated_at datetime       <span class="keyword">not null</span>,</span><br><span class="line">    <span class="keyword">primary key</span> (id)</span><br><span class="line">) engine<span class="operator">=</span>InnoDB</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create table</span> payment_back</span><br><span class="line">(</span><br><span class="line">    id       <span class="type">bigint</span>         <span class="keyword">not null</span> auto_increment,</span><br><span class="line">    amount   <span class="type">decimal</span>(<span class="number">19</span>, <span class="number">2</span>) <span class="keyword">not null</span>,</span><br><span class="line">    order_id <span class="type">bigint</span>         <span class="keyword">not null</span>,</span><br><span class="line">    <span class="keyword">primary key</span> (id)</span><br><span class="line">) engine<span class="operator">=</span>InnoDB</span><br><span class="line">;</span><br><span class="line"><span class="keyword">create</span> index idx_created_at <span class="keyword">on</span> payment (created_at);</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> payment<span class="operator">-</span>setup.sql</span><br><span class="line"><span class="keyword">insert into</span> payment (amount, created_at, order_id, updated_at)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">1000</span>, now(), <span class="number">1</span>, now()),</span><br><span class="line">       (<span class="number">2000</span>, now(), <span class="number">2</span>, now()),</span><br><span class="line">       (<span class="number">3000</span>, now(), <span class="number">3</span>, now()),</span><br><span class="line">       (<span class="number">4000</span>, now(), <span class="number">4</span>, now()),</span><br><span class="line">       (<span class="number">5000</span>, now(), <span class="number">5</span>, now()),</span><br><span class="line">       (<span class="number">6000</span>, now(), <span class="number">6</span>, now()),</span><br><span class="line">       (<span class="number">7000</span>, now(), <span class="number">7</span>, now()),</span><br><span class="line">       (<span class="number">8000</span>, now(), <span class="number">8</span>, now()),</span><br><span class="line">       (<span class="number">9000</span>, now(), <span class="number">9</span>, now()),</span><br><span class="line">       (<span class="number">10000</span>, now(), <span class="number">10</span>, now()),</span><br><span class="line">       (<span class="number">11000</span>, now(), <span class="number">11</span>, now()),</span><br><span class="line">       (<span class="number">12000</span>, now(), <span class="number">12</span>, now())</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> delete.sql</span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">from</span> payment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">from</span> payment_back;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>schema.sql</code>, <code>payment-setup.sql</code>, <code>delete.sql</code> 각 SQL은 DDL 정의, 데이터 set up, 모든 row 제거 작업을 진행합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@TestInstance(TestInstance.Lifecycle.PER_CLASS)</span></span><br><span class="line"><span class="meta">@TestConstructor(autowireMode = TestConstructor.AutowireMode.ALL)</span></span><br><span class="line"><span class="comment">//@Transactional 해당 코드를 주석 했기 때문에 테스트 내용이 롤백되지 않는다.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SqlTest</span>(</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> paymentRepository: PaymentRepository</span><br><span class="line">) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="keyword">internal</span> <span class="function"><span class="keyword">fun</span> <span class="title">setUp</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;======AfterAll======&quot;</span>)</span><br><span class="line">        println(<span class="string">&quot;payments size <span class="subst">$&#123;paymentRepository.findAll().size&#125;</span>&quot;</span>)</span><br><span class="line">        println(<span class="string">&quot;======AfterAll======&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SqlGroup(</span></span><br><span class="line"><span class="meta">        Sql(</span></span><br><span class="line"><span class="meta">            value = [<span class="string">&quot;/schema.sql&quot;</span>, <span class="string">&quot;/payment-setup.sql&quot;</span>], // (1)</span></span><br><span class="line"><span class="meta">            config = SqlConfig( // (2)</span></span><br><span class="line"><span class="meta">                dataSource = <span class="string">&quot;dataSource&quot;</span>, // (3)</span></span><br><span class="line"><span class="meta">                transactionManager = <span class="string">&quot;transactionManager&quot;</span> // (4)</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            executionPhase = Sql.ExecutionPhase. BEFORE_TEST_METHOD // (5)</span></span><br><span class="line"><span class="meta">        ),</span></span><br><span class="line"><span class="meta">        Sql(</span></span><br><span class="line"><span class="meta">            value = [<span class="string">&quot;/delete.sql&quot;</span>], // (6)</span></span><br><span class="line"><span class="meta">            config = SqlConfig(</span></span><br><span class="line"><span class="meta">                dataSource = <span class="string">&quot;dataSource&quot;</span>,</span></span><br><span class="line"><span class="meta">                transactionManager = <span class="string">&quot;transactionManager&quot;</span></span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD // (7)</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> `sql test code2`<span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//given</span></span><br><span class="line">        <span class="comment">//when</span></span><br><span class="line">        <span class="keyword">val</span> payments = paymentRepository.findAll().toList()</span><br><span class="line">        <span class="comment">//then</span></span><br><span class="line">        then(payments).hasSize(<span class="number">12</span>)</span><br><span class="line">        println(<span class="string">&quot;sql test code&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>(1): JPA DDL 설정을 off 했기 때문에, 스키마를 생성하고, 해당 테이블의 데이터를 set up을 진행합니다. <code>*.sql</code> 파일을 배열로 구성하면 배열의 index 순서로 sql을 실행합니다.</li>
<li>(2): Sql에 대한 Config를 지정합니다</li>
<li>(3): 해당 데이터베이스의 DataSource를 지정합니다.</li>
<li>(4): 해당 데이터베이스의 TransactionManager를 지정합니다.</li>
<li>(5): <code>BEFORE_TEST_METHOD</code>으로 테스트 코드가 동작하기 전에 해당 Sql이 동작하게 정의합니다.</li>
<li>(6): 모든 데이터를 제거하는 SQL을 지정합니다.</li>
<li>(7): <code>AFTER_TEST_METHOD</code>으로 테스트 코드가 동작 이후에 해당 Sql이 동작하게 정의합니다.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/cheese10yun/blog-sample/master/batch-study/docs/img/test-result-3.png" alt=""></p>
<p>테스트 코드가 통과했으니 <code>schema.sql</code>, <code>payment-setup.sql</code>이 정상적으로 동작 했고, AfterAll에서 <code>payments size 0</code>이 출력되었으니 <code>delete.sql</code>도 정사적으로 동작했다는 것을 확인 할 수 있습다.</p>
<h2 id="이런-기능이-왜-필요할까">이런 기능이 왜 필요할까?</h2>
<p>JPA를 사용하고 있다면 테스트 코드에서 스키마 설정은 DDL 설정으로, 데이터에 대한 롤백은 <code>@Transactional</code>으로 사용하고, 데이터 Set Up은 Entity Manager를 이용해서 사용하는 것이 훨씬 효율 적이라고 생각이 드실 겁니다. 하지만 단순한 프로젝트가 아니라 복잡한 프로젝트에서는 다소 복잡한 환경이 구성됩니다. 여기서 단순하다는 말은 구성이 단순하다는 표현인 것이지 도메인의 복잡도가 낮다던가, 해당 애플리케이션이 해결하려는 문제가 단순하다는 말은 아닙니다.</p>
<p>제가 해당 기능이 필요했던 이유와 시점은 다음과 같습니다.</p>
<h3 id="Spring-Batch-테스트-코드">Spring Batch 테스트 코드</h3>
<p>스프링 배치에서는 트랜잭션을 물고 테스트 코드를 작성할 수 없습니다. 그러기 때문에 당연히 테스트 코드 완료 이후에도 데이터가 롤백 되지 않기 때문에 이후 테스트에 영향을 줄 수 있습니다. 이런 경우 <code>Sql.ExecutionPhase.AFTER_TEST_METHOD</code>를 이용해서 테스트 끝난 이후의 데이터를 삭제할 수 있습니다.</p>
<h3 id="다른-서비스의-DataSoruce를-2개-이상-연결하는-경우">다른 서비스의 DataSoruce를 2개 이상 연결하는 경우</h3>
<p>Master, Slave 구조에서 DataSoruce를 의미하는 것이 아니라, 전혀 다른 서비스의 DataSource를 2개 이상 연결하는 경우에 유용합나다. 물론 2개 이상의 DataSource를 연결하는 것이 좋다고는 생각이 들지 않지만 실제 개발 황경에서 자주 만나는 환경입니디.</p>
<p>각기 다른 DataSource이기 때문에 트랜잭션에 트랜잭션 메니저를 명시적으로 선언한 트랜잭션에 데이터는 롤백이 되게고 나머지 하나는 롤백되지 않게 될 수 도 있습니다.</p>
<p>조금 과격한 예가 될수도 있겠지만, 애플리케이션 구동시 특정 코드 값들을 가져와야하는 경우 데이터베이스 컨넥션을 맺어서 가져오는 경우도 있습니다. 물론 API를 통해서 가져오는 방법이 좋은건 맞지만, 실제로 이런 서비스들은 종종 있습니다.</p>
<p>중심 서비스가 아닌 데이터베이스에 대해서 굳이 JPA를 사용하는 것이 좋은 판단이 아닐 수도 있기 때문에 해당 코드에 대한 테스트 코드를 작성 시 JPA와 무관하게 스키마를 생성하고, 데이터를 set up 하는 과정들이 필요한 경우 <code>@Sql</code>이 적절한 대안이 될 수 있다고 생각합니다.</p>
<h3 id="특정-시점의-데이터-Set-Up">특정 시점의 데이터 Set Up</h3>
<p>커머스 시스템에서 배송중 -&gt; 배송 완료로 주문의 상태가가 변경되는 로직을 작성해야 한다고 가정했을 때 우리는 Order 객체를 배송중 상태로 만드는 givn절이 필요합니다.</p>
<p>주문의 setter 코드가 모두 열려 있다면 해당 시점의로 객체를 생성하는 것은 어렵지 않습니다. 하지만 setter를 만들지 않는 패턴을 사용하고 있다면 배송중 상태로 실제 객체를 만드는 것은 다소 번거롭습니다. 잘짜여진 코드라고 하면 방어 로직이 충분히 있기 때문에 객체를 대충 만들 수도 없고 모든 예외 사항을 지켜가며 주문 완료 -&gt; 결제 완료 -&gt; 배송 준비 -&gt; 배송중 으로 배송중 상태를 만들어여 합니다.</p>
<p>이런 경우 JPA같은 경우 다소 번거로울 수 있는 내용을 Sql으로는 쉽게 해결 가능 합니다. insert into를 작성하기만 하면 끝입니다. 물론 이 방법이 좋은 테스트 코드를 작성하는 방법일까라는 의문은 갖고 있습니다.</p>
<h2 id="결론">결론</h2>
<p>각자 다양한 개발 환경이 있고 그 환경에 맞는 테스트 코드를 작성하는 게 좋다고 생각합니다. 만약 스프링 배치 테스트 코드를 많이 작성하고, 2개 이상의 다른 서비스의 DataSource를 연결하는 프로젝트에서는 <code>@Sql</code>은 효율적인 도구라고 생각합니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Spring/" rel="tag">Spring</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Test/" rel="tag">Test</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/resilience4j-basic/"
                    data-tooltip="Resilience4j를 이용한 서킷 브레이커 기초"
                    aria-label="이전: Resilience4j를 이용한 서킷 브레이커 기초"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-config-client/"
                    data-tooltip="Spring Cloud Config &amp; Cloud Bus 정리"
                    aria-label="다음: Spring Cloud Config &amp; Cloud Bus 정리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/sql-test/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/sql-test/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/sql-test/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>


<!-- Comment -->
<!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/resilience4j-basic/"
                    data-tooltip="Resilience4j를 이용한 서킷 브레이커 기초"
                    aria-label="이전: Resilience4j를 이용한 서킷 브레이커 기초"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/spring-config-client/"
                    data-tooltip="Spring Cloud Config &amp; Cloud Bus 정리"
                    aria-label="다음: Spring Cloud Config &amp; Cloud Bus 정리"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/sql-test/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/sql-test/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://cheese10yun.github.io/sql-test/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/sql-test/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/sql-test/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://cheese10yun.github.io/sql-test/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>

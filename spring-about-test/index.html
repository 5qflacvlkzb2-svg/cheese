
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>테스트 코드 작성에 대한 나름의 고찰 - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"\n해당 코드는 Github를 확인해주세요.\n\n스프링 기반으로 많은 테스트 코드를 작성하면서 느꼈던 나름의 고찰과 어려움을 정리하는 포스팅입니다. 사실은 테스트 코드 작성 시 효율적인 방법을 소개하는 포스팅을 진행하려 했으나 이런저런 고민들 때문에 명확한 결론이 나지 않아서 이런 고민들을 정리한 포스팅입니다.\nPOJO 테스트는 언제나 옳다#이전에 포스팅한 Test 전략 가이드, Spring Boot 테스트 종류 등 스프링에서는 매우 다양한 테스트 방법을 제공해주고 있습니다. 이런 Slice 테스트 지원으로 테스트 하고자 하는 레이어를 부분적으로 빠르게 테스트할 수 있습니다.\n이런 강력한 기능들 때문에 POJO에 대한 테스팅은 상대적으로 관심도가 낮다 보니 POJO에 대한 테스트 코드 작성에도 관심이 부족한 거 같습니다.\nPOJO 테스트의 장점\n\nPOJO 객체를 테스트하는 것이라서 빠르다.\n디펜더시가 상대적으로 적어서 테스트 코드 작성이 편하다.\n단위 테스트하기 가장 이상적이다.\n\nPOJO 테스트의 대표적인 항목들은 Util 객체, Domain 객체 등이 있습니다. 특히 ORM을 사용하고 있다면 도메인 객체들의 테스트 코드는 해당 프로젝트의 도메인 지식을 설명해주는 아주 좋은 문서 역할을 해줍니다.\n123456789101112131415161718192021222324public class CouponTest &#123;    @Test(expected = CouponExpireException.class)    public void 만료일이지난_쿠폰_사용_불가() &#123;        final Coupon coupon = CouponBuilder.build(LocalDate.now().minusDays(1));        coupon.use();    &#125;    @Test(expected = CouponAlreadyUseException.class)    public void 이미_사용한_쿠폰은_쿠폰_사용_불가() &#123;        final Coupon coupon = CouponBuilder.build(LocalDate.now().plusDays(3));        coupon.use();        // 이미 사용한 쿠폰을 다시 한번 사용했을 다시 사용        coupon.use();    &#125;    @Test    public void 사용가능_쿠폰_사용시_used_is_true() &#123;        final Coupon coupon = CouponBuilder.build(LocalDate.now().plusDays(1));        coupon.use();        assertThat(coupon.isUsed()).isTrue();    &#125;&#125;\n쿠폰 테스트 코드를 통해서 쿠폰 도메인의 비즈니스 요구 사항 나타내는 도큐먼트로 볼 수 있습니다.\nMatchers는 AssertJ가 좋다.#\n위 그림은 assertThat은 import static org.junit.Assert.assertThat;에서 가져온 assertThat입니다. 해당 Matchers는 자동완성 기능을 제공해주지 않아 무슨 메서드가 있는지 일단 외우고 있어야 합니다. 다른 Matchers들도 어느 정도 추천 자동 완성 기능을 제공해주고 있지만 매개변수로 넘기는 방식입니다.\n반면 AssertJ는 사용법은 매개변수를 넘기는 방식이 아닙니다. assertThat(coupon.isUsed()) 코드 뒤에 .을 붙여 사용하는 방식이라서 해당 함수가 무엇이 있는지 명확하게 알려줍니다. 그리고 AssertJ는 다른 Matchers에 비해 테스트하기 편리한 메서드들을 제공해줍니다. JUnit을 사용하고 있다면 Matchers는 AssertJ를 적극 추천합니다.\n테스트만을 위한 코드#테스트 코드를 작성하기 위해서 테스트 코드에서 사용하는 코드를 작성할 때가 있습니다. 테스트에만 사용하는 코드는 객체 간의 협력관계에는 참여하지 않지만 코드로만 존재하기 때문에 그 존자 자체가 저는 부정적으로 생각합니다.\n1234567891011121314151617public class MemberApi &#123;  private final MemberRepository memberRepository;  @PostMapping  public Member create(@RequestBody MemberSingUpRequest dto) &#123;    return memberRepository.save(new Member(dto.getEmail(), dto.getName()));  &#125;&#125;public class MemberSingUpRequest &#123;  @NotEmpty private String name;  @Email private String email;&#125;\n\n위와 같은 API가 있을 경우 아래처럼 테스트 코드를 작성할 수 있습니다.\n1234567891011121314151617181920212223242526272829@SpringBootTest@RunWith(SpringRunner.class)@AutoConfigureMockMvcpublic class MemberApiTest &#123;  @Autowired  private MockMvc mvc;  @Autowired  protected ObjectMapper objectMapper;  @Test  public void 회원가입테스트() throws Exception &#123;    //given    final MemberSingUpRequest dto = new MemberSingUpRequest(&quot;yun&quot;, &quot;yun@asd.com&quot;);    //when    final ResultActions resultActions = mvc.perform(post(&quot;/members&quot;)        .contentType(MediaType.APPLICATION_JSON_UTF8)        .content(objectMapper.writeValueAsString(dto)))        .andDo(print());    //then    resultActions        .andExpect(status().isOk());  &#125;&#125;\n\n여기서 중요한 것은 Given 절에서 Request Body가 받을 DTO를 만들어야 하는 점인데. 실제 값 바인딩은 리플렉션 기반으로 처리되니 별다른 생성자를 만들 필요가 없습니다. 하지만 테스트 코드에서는 json 값을 넘겨줘야 하기 때문에 테스 코드 작성을 위 헤서 아래와 같은 생성자를 만들어야 합니다.\n1234public MemberSingUpRequest(final String name, final String email) &#123;    this.name = name;    this.email = email;  &#125;\n\nValidation을 어노테이션들이 동작하지 않습니다. 내가 의도하지 않은 객체 생성이 이루어지는 가능성이 있고 무엇보다 해당 코드는 테스트 코드에서만 사용되는 코드인 점입니다.\nJSON 기반으로 테스트#1234&#123;  &quot;name&quot;: &quot;yun&quot;,  &quot;email&quot;: &quot;yun@asd.com&quot;&#125;\n\n12345678910111213141516171819202122...public class MemberApiTest &#123;    ...    @Test  public void json_파일로테스트() throws Exception &#123;    //given    final String requestBody = readJson(&quot;classpath:member-singup.json&quot;);    //when    final ResultActions resultActions = mvc.perform(post(&quot;/members&quot;)        .contentType(MediaType.APPLICATION_JSON_UTF8)        .content(requestBody))        .andDo(print());    //then    resultActions        .andExpect(status().isOk());  &#125;&#125;\njson 파일을 읽어 들여 String으로 값을 전달하게 되면 위에서 작성한 생성자 코드를 사용하지 않아도 됩니다.\n12345678910111213141516171819202122232425262728&#123;  &quot;orderer&quot;: &#123;    &quot;name&quot;: &quot;yun&quot;,    &quot;email&quot;: &quot;yun@asd.com&quot;  &#125;,  &quot;product&quot;: [    &#123;      &quot;name&quot;: &quot;양말&quot;,      &quot;price&quot;: 123233    &#125;,    &#123;      &quot;name&quot;: &quot;바자&quot;,      &quot;price&quot;: 1000    &#125;,    &#123;      &quot;name&quot;: &quot;치마&quot;,      &quot;price&quot;: 1120    &#125;  ],  &quot;coupon&quot;: &#123;    &quot;code&quot;: &quot;xx2sd292kd&quot;  &#125;,  &quot;address&quot;: &#123;    &quot;address1&quot;: &quot;서울블라브라...&quot;    &quot;address2&quot;: &quot;어디 동...&quot;,    &quot;zip&quot;: &quot;123-2332&quot;  &#125;&#125;\n\n특히 위처럼 json이 복잡한 경우에는 객체 기반으로 생성하는 것이 많이 번거롭습니다. 이런 경우에는 json으로 관리하는 것이 효율적일 수 있습니다.\n단점도 있습니다. 유효성 검사 등 다양한 값을 넣기 위해서는 그만큼 json 파일을 만들어야 하는 단점도 있습니다. 객체 생성으로 만들면 파라미터를 통해서 값만 변경할 수 있지만 json 파일로 만들게 되는 경우는 여러 json 만들어서 테스트해야 합니다.\nDefault 접근 제어 지시자를 통한 객체 생성#Default 접근 제어 지시자를 사용하면 동일 패키지 내에서는 접근할 수가 있습니다.\n1234567891011121314151617181920212223@NoArgsConstructor(access = AccessLevel.PRIVATE)@Getterpublic class MemberSingUpRequest &#123;  @NotEmpty  private String name;  @Email  private String email;  MemberSingUpRequest(final String name, final String email) &#123;    this.name = name;    this.email = email;  &#125;&#125;// 해당 클래스는 test 디렉토리에 위치합니다.public class MemberSignUpRequestBuilder &#123;  public static MemberSingUpRequest build(String name, String email) &#123;    return new MemberSingUpRequest(name, email);  &#125;&#125;\n\ntest 디렉터리에 경로가 동일하다면 Default 접근 제어 지시자로 되있는 생성자로 접근이 가능합니다.\n12345678910111213141516@Testpublic void default_접근지시자_를이용한_테스트() throws Exception &#123;  //given  final MemberSingUpRequest dto = MemberSignUpRequestBuilder.build(&quot;yun&quot;, &quot;yun@asd.com&quot;);  //when  final ResultActions resultActions = mvc.perform(post(&quot;/members&quot;)      .contentType(MediaType.APPLICATION_JSON_UTF8)      .content(objectMapper.writeValueAsString(dto)))      .andDo(print());  //then  resultActions      .andExpect(status().isOk());&#125;\n이런 식으로 테스트를 진행하면 동일 패키지에서 밖에 접근하지 못하는 코드이므로 테스트 코드만을 위한 코드이지만 영향을 최소한으로 할 수 있습니다.\n주의해야 할 점은 생성자가 추가됐기 때문에 반드시 기본 생성자를 하나 만들어야 합니다. 이때 접근 제어 지시자는 private 접근 지시자를 통해서 최소한으로 만들어 줍니다. 항상 접근 제어 지시자는 되도록 낮은 것을 사용하는 습관을 갖는 것이 좋습니다.\nSetter를 추가하는 방법도 있겠지만 Setter는 Request, Response 객체 같은 경우에는 최대한 지양하는 것이 좋습니다. 이런 방식은 코드 양이 많기도 하고 애초에 default 생성자라도 있는 것이기 때문에 현재는 RequestBody 객체가 복잡하면 JSON 기반 테스트를 진행하고 그렇지 않은 경우에는 그냥 public 생서자 or Builder를 이용해서 Given 절을 작성하고 있습니다.\nSetter의 유혹#step-06: Setter 사용하지 않기 및 많은 포스팅에서 Setter 메서드를 지양해야 한다고 말해왔습니다. 하지만 테스트 코드 작성 시 Setter 메서드는 너무 달콤한 유욕이 있습니다.\n1234567891011121314151617181920public enum OrderStep &#123;  AWAITING_DEPOSITED, //  결지 미완료  PAID, // 지불 완료  REAMDY, // 배송 준비  SHIPPING, // 배송중  COMPLETED // 완료&#125;public class Order &#123;...  public void changeStepToCompleted() &#123;      if (this.step != OrderStep.SHIPPING) &#123;        throw new IllegalStateException();      &#125;      this.step = OrderStep.COMPLETED;    &#125;&#125;\n\n주문의 상태가 있고 배송 완료로 변경하기 위해서는 현재 Step이 SHIPPING 이어야 한다는 로직입니다.\n123456789101112131415161718@Testpublic void setter_메서드의_유혹() &#123;  //given  final List&lt;Product&gt; products = new ArrayList&lt;&gt;();  products.add(new Product(&quot;양말&quot;));  products.add(new Product(&quot;모자&quot;));  products.add(new Product(&quot;바지&quot;));  final Order order = Order.order(&quot;yun&quot;, products);  // order.setStep(OrderStep.SHIPPING); Setter 메서드가 간절하다.  //when  order.changeStepToCompleted();  //then  assertThat(order.getStep()).isEqualTo(OrderStep.COMPLETED);&#125;\nOrder 객체를 테스트하기 위해서는 Order 객체를 만들어야 합니다. 그리고 Order 객체는 시간에 따라서 데이터들이 달라집니다. 주문 신청부터 주문 완료까지 Order 객체는 계속해서 변경됩니다.\n적절하게 단위 테스트하기 위해서는 데이터를 특정 시점처럼 만들어야 합니다. 위 테스트도 주문 완료를 테스트하기 위해서 주문 생성 -&gt; 주문 배송 중으로 변경해야 합니다. 이럴 경우 Setter를 쓰면 모든 비니지스 로직을 무시하고 데이터를 특정 시점으로 변경시킬 수 있습니다.\n위 도메인은 상당히 간단한 편이지만 주문, 환불, 주문 부분 취소, 주문 전체 취소 등 다양한 도메인들을 테스트하기 위해서는 특정 시점으로 변경하기 어렵습니다. 위처럼 방어적 로직이 있어 모든 조건이 만족할 때만 데이터를 변경하도록 하기 때문입니다.\n그래서 나름의 결론은 @Setter를 사용하고 test 코드 작성 시에만 Setter를 사용한다 정도입니다. 객체지향 관점에서 아무 로직 없는 Setter는 객체 간의 협력관계에서 객체의 자율성을 심하게 훼손시킵니다. 테스트 코드 이외에는 Setter를 사용하지 않아야 한다는 것이 지금의 결론입니다.\n그래도 명확한 가이드가 없는 건 사실입니다. test 디렉터리에서만 Setter 메서드를 사용하지 않는다라는 팀 차원의 공유만 있을 뿐 그것을 강제할 방법은 없습니다.\n통합 테스트의 어려움#통합 테스트에서 어려운 점들이 Given 작성하는 것입니다. 페이징 및 필터 관련된 API를 테스트한다고 했을 경우 데이터를 Set up 해주기가 어렵습니다.\n만약 주문 생성 API를 테스트하기 위해서는\n\n회원\n상품\n상품 카테고리\n해당 상품의 입점사 정보\n쿠폰 (만약 쿠폰을 사용했을 때 필요)\n\n아무리 간단하게 생각해도 최소한 이 정도의 데이터를 Set up 해야 합니다. 실제 오픈 커머스 같은 경우에는 주문 한 번을 하기 위해서 수십 개의 테이블들을 Set up 해야 합니다.테스트를 위해서 객체를 만들고 JPA로 데이터를 Set up 한다면 차라리 저는 테스트를 포기하겠습니다.\nImport를 이용한 데이터 Set up#스프링이 로드될 때 data.sql을 읽어 들여 Given을 만드는 방식입니다.\n12345678# data.sqlINSERT INTO    `member` (`id`, `email`, `name`)VALUES\t(1, &#x27;yun@asd.com&#x27;, &#x27;yun&#x27;),\t(2, &#x27;wan@asd.com&#x27;, &#x27;wan&#x27;),\t(3, &#x27;jin@asd.com&#x27;, &#x27;jin&#x27;),\t(4, &#x27;ck@asd.com&#x27;, &#x27;ck&#x27;);\n\n\n123456789101112131415161718@Testpublic void member_page_test() throws Exception &#123;  //given  //when  final ResultActions resultActions = mvc.perform(get(&quot;/members&quot;)      .contentType(MediaType.APPLICATION_JSON_UTF8))      .andDo(print());  //then  resultActions      .andExpect(status().isOk())      .andExpect(jsonPath(&quot;content&quot;).exists())      .andExpect(jsonPath(&quot;pageable&quot;).exists())      .andExpect(jsonPath(&quot;pageable&quot;).exists())      .andExpect(jsonPath(&quot;numberOfElements&quot;).value(&quot;4&quot;));&#125;\nSQL로 given을 구성하게 되면 테스트하고자 하는 부분의 when, then 구절은 어렵지 않게 작성할 수 있습니다. 또 비즈니스 로직과 상관없이 데이터를 특정 시점으로 만들 수 있습니다.\n하지만 단점도 있습니다. 칼럼의 변경 및 확장 시 테스트 코드의 지속적인 관리가 어렵다는 점이 있습니다. 또 누군가의 member insert를 추가적으로 하면 .andExpect(jsonPath(&quot;numberOfElements&quot;).value(&quot;4&quot;)) 테스트 코드는 실패하게 됩니다. 모든 작업자들이 data.sql을 추가 및 변경하다 보면 문제가 계속 생기게 됩니다.\n나름의 해결 방법#위에서도 말했듯이 data.sql을 모든 작업자가 공동으로 사용하게 되니 문제가 발생한다면 테스트 단위로 data-&#123;xxx-test&#125;.sql을 관리하면 좋을 거 같습니다.\n12345678910111213141516171819@Testpublic void member_page_test() throws Exception &#123;  //given  dataSetUp(&quot;classpath:member_page_test.sql&quot;); // 로직은 구현하지 않았습니다.  //when  final ResultActions resultActions = mvc.perform(get(&quot;/members&quot;)      .contentType(MediaType.APPLICATION_JSON_UTF8))      .andDo(print());  //then  resultActions      .andExpect(status().isOk())      .andExpect(jsonPath(&quot;content&quot;).exists())      .andExpect(jsonPath(&quot;pageable&quot;).exists())      .andExpect(jsonPath(&quot;pageable&quot;).exists())      .andExpect(jsonPath(&quot;numberOfElements&quot;).value(&quot;4&quot;));&#125;\n\nJSON 기반으로 테스트처럼 객체로 생성하기 어려운 Given을 JSON에서는 json 파일로 했고 여기에서는 SQL 파일로 진행합니다. 이 방식으로는 실제 실무에서 사용해본 경험은 없어 다른 문제들이 발생할지는 모르겠습니다.\n결론#결론이라고 말하기는 어렵지만 테스트 코드를 작성할 때 Given을 만들기 위해서 많은 어려운 점이 있습니다. 지금의 제 결론은 Given을 최대한 편리하게 작성하는 방법과 의존도를 낮게 코딩해서 최대한 단위 테스트를 하기 쉽게 의도적으로 설계하고 코딩하는 편이 좋다고 생각합니다.\n","dateCreated":"2019-07-21T14:00:01+09:00","dateModified":"2025-01-31T20:24:39+09:00","datePublished":"2019-07-21T14:00:01+09:00","description":"스프링 기반으로 많은 테스트 코드를 작성하면서 느꼈던 나름의 고찰과 어려움을 정리하는 포스팅입니다. 사실은 테스트 코드 작성 시 효율적인 방법을 소개하는 포스팅을 진행하려 했으나 이런저런 고민들 때문에 명확한 결론이 나지 않아서 이런 고민들을 정리한 포스팅입니다.","headline":"테스트 코드 작성에 대한 나름의 고찰","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/spring-about-test/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/spring-about-test/","keywords":"Spring, Test"}</script>
    <meta name="description" content="스프링 기반으로 많은 테스트 코드를 작성하면서 느꼈던 나름의 고찰과 어려움을 정리하는 포스팅입니다. 사실은 테스트 코드 작성 시 효율적인 방법을 소개하는 포스팅을 진행하려 했으나 이런저런 고민들 때문에 명확한 결론이 나지 않아서 이런 고민들을 정리한 포스팅입니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="테스트 코드 작성에 대한 나름의 고찰">
<meta property="og:url" content="https://cheese10yun.github.io/spring-about-test/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="스프링 기반으로 많은 테스트 코드를 작성하면서 느꼈던 나름의 고찰과 어려움을 정리하는 포스팅입니다. 사실은 테스트 코드 작성 시 효율적인 방법을 소개하는 포스팅을 진행하려 했으나 이런저런 고민들 때문에 명확한 결론이 나지 않아서 이런 고민들을 정리한 포스팅입니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/CoreMatchers.png">
<meta property="og:image" content="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/AssertJ.png">
<meta property="og:image" content="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/default-access.png">
<meta property="article:published_time" content="2019-07-21T05:00:01.000Z">
<meta property="article:modified_time" content="2025-01-31T11:24:39.818Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="Test">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/CoreMatchers.png">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            테스트 코드 작성에 대한 나름의 고찰
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-07-21T14:00:01+09:00">
	
		    2019/07/21
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <blockquote>
<p>해당 코드는 <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/blog-sample/tree/master/test-code">Github</a>를 확인해주세요.</p>
</blockquote>
<p>스프링 기반으로 많은 테스트 코드를 작성하면서 느꼈던 나름의 고찰과 어려움을 정리하는 포스팅입니다. 사실은 테스트 코드 작성 시 효율적인 방법을 소개하는 포스팅을 진행하려 했으나 이런저런 고민들 때문에 명확한 결론이 나지 않아서 이런 고민들을 정리한 포스팅입니다.</p>
<h2><span id="pojo-teseuteuneun-eonjena-olhda">POJO 테스트는 언제나 옳다</span><a href="#pojo-teseuteuneun-eonjena-olhda" class="header-anchor">#</a></h2><p>이전에 포스팅한 <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/spring-guide/blob/master/docs/test-guide.md">Test 전략 가이드</a>, <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/spring-guide/blob/master/docs/test-guide.md">Spring Boot 테스트 종류</a> 등 스프링에서는 매우 다양한 테스트 방법을 제공해주고 있습니다. 이런 Slice 테스트 지원으로 테스트 하고자 하는 레이어를 부분적으로 빠르게 테스트할 수 있습니다.</p>
<p><strong>이런 강력한 기능들 때문에 POJO에 대한 테스팅은 상대적으로 관심도가 낮다 보니 POJO에 대한 테스트 코드 작성에도 관심이 부족한 거 같습니다.</strong></p>
<p>POJO 테스트의 장점</p>
<ul>
<li>POJO 객체를 테스트하는 것이라서 빠르다.</li>
<li>디펜더시가 상대적으로 적어서 테스트 코드 작성이 편하다.</li>
<li>단위 테스트하기 가장 이상적이다.</li>
</ul>
<p>POJO 테스트의 대표적인 항목들은 Util 객체, Domain 객체 등이 있습니다. <strong>특히 ORM을 사용하고 있다면 도메인 객체들의 테스트 코드는 해당 프로젝트의 도메인 지식을 설명해주는 아주 좋은 문서 역할을 해줍니다.</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CouponTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test(expected = CouponExpireException.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 만료일이지난_쿠폰_사용_불가() &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Coupon</span> <span class="variable">coupon</span> <span class="operator">=</span> CouponBuilder.build(LocalDate.now().minusDays(<span class="number">1</span>));</span><br><span class="line">        coupon.use();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test(expected = CouponAlreadyUseException.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 이미_사용한_쿠폰은_쿠폰_사용_불가() &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Coupon</span> <span class="variable">coupon</span> <span class="operator">=</span> CouponBuilder.build(LocalDate.now().plusDays(<span class="number">3</span>));</span><br><span class="line">        coupon.use();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 이미 사용한 쿠폰을 다시 한번 사용했을 다시 사용</span></span><br><span class="line">        coupon.use();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 사용가능_쿠폰_사용시_used_is_true() &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Coupon</span> <span class="variable">coupon</span> <span class="operator">=</span> CouponBuilder.build(LocalDate.now().plusDays(<span class="number">1</span>));</span><br><span class="line">        coupon.use();</span><br><span class="line">        assertThat(coupon.isUsed()).isTrue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>쿠폰 테스트 코드를 통해서 쿠폰 도메인의 비즈니스 요구 사항 나타내는 도큐먼트로 볼 수 있습니다.</p>
<h2><span id="matchersneun-assertjga-johda">Matchers는 AssertJ가 좋다.</span><a href="#matchersneun-assertjga-johda" class="header-anchor">#</a></h2><p><img src="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/CoreMatchers.png"></p>
<p>위 그림은 assertThat은 <code>import static org.junit.Assert.assertThat;</code>에서 가져온 assertThat입니다. 해당 Matchers는 자동완성 기능을 제공해주지 않아 무슨 메서드가 있는지 일단 외우고 있어야 합니다. 다른 Matchers들도 어느 정도 추천 자동 완성 기능을 제공해주고 있지만 매개변수로 넘기는 방식입니다.</p>
<p><img src="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/AssertJ.png"><br>반면 <code>AssertJ</code>는 사용법은 매개변수를 넘기는 방식이 아닙니다. <code>assertThat(coupon.isUsed())</code> 코드 뒤에 <code>.</code>을 붙여 사용하는 방식이라서 해당 함수가 무엇이 있는지 명확하게 알려줍니다. 그리고 AssertJ는 다른 Matchers에 비해 테스트하기 편리한 메서드들을 제공해줍니다. <strong>JUnit을 사용하고 있다면 Matchers는 AssertJ를 적극 추천합니다.</strong></p>
<h2><span id="teseuteumaneul-wihan-kodeu">테스트만을 위한 코드</span><a href="#teseuteumaneul-wihan-kodeu" class="header-anchor">#</a></h2><p>테스트 코드를 작성하기 위해서 테스트 코드에서 사용하는 코드를 작성할 때가 있습니다. 테스트에만 사용하는 코드는 객체 간의 협력관계에는 참여하지 않지만 코드로만 존재하기 때문에 그 존자 자체가 저는 부정적으로 생각합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberApi</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> MemberRepository memberRepository;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@PostMapping</span></span><br><span class="line">  <span class="keyword">public</span> Member <span class="title function_">create</span><span class="params">(<span class="meta">@RequestBody</span> MemberSingUpRequest dto)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> memberRepository.save(<span class="keyword">new</span> <span class="title class_">Member</span>(dto.getEmail(), dto.getName()));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberSingUpRequest</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@NotEmpty</span> <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Email</span> <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>위와 같은 API가 있을 경우 아래처럼 테스트 코드를 작성할 수 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@AutoConfigureMockMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberApiTest</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Autowired</span></span><br><span class="line">  <span class="keyword">private</span> MockMvc mvc;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Autowired</span></span><br><span class="line">  <span class="keyword">protected</span> ObjectMapper objectMapper;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> 회원가입테스트() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//given</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">MemberSingUpRequest</span> <span class="variable">dto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MemberSingUpRequest</span>(<span class="string">&quot;yun&quot;</span>, <span class="string">&quot;yun@asd.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//when</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">ResultActions</span> <span class="variable">resultActions</span> <span class="operator">=</span> mvc.perform(post(<span class="string">&quot;/members&quot;</span>)</span><br><span class="line">        .contentType(MediaType.APPLICATION_JSON_UTF8)</span><br><span class="line">        .content(objectMapper.writeValueAsString(dto)))</span><br><span class="line">        .andDo(print());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//then</span></span><br><span class="line">    resultActions</span><br><span class="line">        .andExpect(status().isOk());</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>여기서 중요한 것은 Given 절에서 Request Body가 받을 DTO를 만들어야 하는 점인데. 실제 값 바인딩은 리플렉션 기반으로 처리되니 별다른 생성자를 만들 필요가 없습니다. 하지만 테스트 코드에서는 json 값을 넘겨줘야 하기 때문에 테스 코드 작성을 위 헤서 아래와 같은 생성자를 만들어야 합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">MemberSingUpRequest</span><span class="params">(<span class="keyword">final</span> String name, <span class="keyword">final</span> String email)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.email = email;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>Validation을 어노테이션들이 동작하지 않습니다. 내가 의도하지 않은 객체 생성이 이루어지는 가능성이 있고 무엇보다 해당 코드는 테스트 코드에서만 사용되는 코드인 점입니다.</p>
<h3><span id="json-gibaneuro-teseuteu">JSON 기반으로 테스트</span><a href="#json-gibaneuro-teseuteu" class="header-anchor">#</a></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yun&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yun@asd.com&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberApiTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> json_파일로테스트() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//given</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">String</span> <span class="variable">requestBody</span> <span class="operator">=</span> readJson(<span class="string">&quot;classpath:member-singup.json&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//when</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">ResultActions</span> <span class="variable">resultActions</span> <span class="operator">=</span> mvc.perform(post(<span class="string">&quot;/members&quot;</span>)</span><br><span class="line">        .contentType(MediaType.APPLICATION_JSON_UTF8)</span><br><span class="line">        .content(requestBody))</span><br><span class="line">        .andDo(print());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//then</span></span><br><span class="line">    resultActions</span><br><span class="line">        .andExpect(status().isOk());</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>json 파일을 읽어 들여 String으로 값을 전달하게 되면 위에서 작성한 생성자 코드를 사용하지 않아도 됩니다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;orderer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yun&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yun@asd.com&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;product&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;양말&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">123233</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;바자&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">1000</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;치마&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">1120</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;coupon&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xx2sd292kd&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;address1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;서울블라브라...&quot;</span></span><br><span class="line">    <span class="attr">&quot;address2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;어디 동...&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;zip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123-2332&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>특히 위처럼 json이 복잡한 경우에는 객체 기반으로 생성하는 것이 많이 번거롭습니다. 이런 경우에는 json으로 관리하는 것이 효율적일 수 있습니다.</p>
<p>단점도 있습니다. 유효성 검사 등 다양한 값을 넣기 위해서는 그만큼 json 파일을 만들어야 하는 단점도 있습니다. 객체 생성으로 만들면 파라미터를 통해서 값만 변경할 수 있지만 json 파일로 만들게 되는 경우는 여러 json 만들어서 테스트해야 합니다.</p>
<h3><span id="default-jeobgeun-jeeo-jisijareul-tonghan-gaegce-saengseong">Default 접근 제어 지시자를 통한 객체 생성</span><a href="#default-jeobgeun-jeeo-jisijareul-tonghan-gaegce-saengseong" class="header-anchor">#</a></h3><p>Default 접근 제어 지시자를 사용하면 동일 패키지 내에서는 접근할 수가 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NoArgsConstructor(access = AccessLevel.PRIVATE)</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberSingUpRequest</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@NotEmpty</span></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Email</span></span><br><span class="line">  <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">  MemberSingUpRequest(<span class="keyword">final</span> String name, <span class="keyword">final</span> String email) &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.email = email;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 해당 클래스는 test 디렉토리에 위치합니다.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MemberSignUpRequestBuilder</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> MemberSingUpRequest <span class="title function_">build</span><span class="params">(String name, String email)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MemberSingUpRequest</span>(name, email);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://github.com/cheese10yun/blog-sample/raw/master/test-code/images/default-access.png"></p>
<p><code>test</code> 디렉터리에 경로가 동일하다면 <code>Default</code> 접근 제어 지시자로 되있는 생성자로 접근이 가능합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> default_접근지시자_를이용한_테스트() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="comment">//given</span></span><br><span class="line">  <span class="keyword">final</span> <span class="type">MemberSingUpRequest</span> <span class="variable">dto</span> <span class="operator">=</span> MemberSignUpRequestBuilder.build(<span class="string">&quot;yun&quot;</span>, <span class="string">&quot;yun@asd.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//when</span></span><br><span class="line">  <span class="keyword">final</span> <span class="type">ResultActions</span> <span class="variable">resultActions</span> <span class="operator">=</span> mvc.perform(post(<span class="string">&quot;/members&quot;</span>)</span><br><span class="line">      .contentType(MediaType.APPLICATION_JSON_UTF8)</span><br><span class="line">      .content(objectMapper.writeValueAsString(dto)))</span><br><span class="line">      .andDo(print());</span><br><span class="line"></span><br><span class="line">  <span class="comment">//then</span></span><br><span class="line">  resultActions</span><br><span class="line">      .andExpect(status().isOk());</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이런 식으로 테스트를 진행하면 동일 패키지에서 밖에 접근하지 못하는 코드이므로 테스트 코드만을 위한 코드이지만 영향을 최소한으로 할 수 있습니다.</p>
<p>주의해야 할 점은 생성자가 추가됐기 때문에 반드시 기본 생성자를 하나 만들어야 합니다. 이때 접근 제어 지시자는 <code>private</code> 접근 지시자를 통해서 최소한으로 만들어 줍니다. <strong>항상 접근 제어 지시자는 되도록 낮은 것을 사용하는 습관을 갖는 것이 좋습니다.</strong></p>
<p>Setter를 추가하는 방법도 있겠지만 Setter는 Request, Response 객체 같은 경우에는 최대한 지양하는 것이 좋습니다. 이런 방식은 코드 양이 많기도 하고 애초에 default 생성자라도 있는 것이기 때문에 <strong>현재는 RequestBody 객체가 복잡하면 JSON 기반 테스트를 진행하고 그렇지 않은 경우에는 그냥 public 생서자 or Builder를 이용해서 Given 절을 작성하고 있습니다.</strong></p>
<h2><span id="setteryi-yuhog">Setter의 유혹</span><a href="#setteryi-yuhog" class="header-anchor">#</a></h2><p><a target="_blank" rel="noopener" href="https://github.com/cheese10yun/spring-jpa-best-practices/blob/master/doc/step-06.md">step-06: Setter 사용하지 않기</a> 및 많은 포스팅에서 Setter 메서드를 지양해야 한다고 말해왔습니다. 하지만 테스트 코드 작성 시 Setter 메서드는 너무 달콤한 유욕이 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">OrderStep</span> &#123;</span><br><span class="line">  AWAITING_DEPOSITED, <span class="comment">//  결지 미완료</span></span><br><span class="line">  PAID, <span class="comment">// 지불 완료</span></span><br><span class="line">  REAMDY, <span class="comment">// 배송 준비</span></span><br><span class="line">  SHIPPING, <span class="comment">// 배송중</span></span><br><span class="line">  COMPLETED <span class="comment">// 완료</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">changeStepToCompleted</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.step != OrderStep.SHIPPING) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">this</span>.step = OrderStep.COMPLETED;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>주문의 상태가 있고 배송 완료로 변경하기 위해서는 현재 Step이 SHIPPING 이어야 한다는 로직입니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> setter_메서드의_유혹() &#123;</span><br><span class="line">  <span class="comment">//given</span></span><br><span class="line">  <span class="keyword">final</span> List&lt;Product&gt; products = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;양말&quot;</span>));</span><br><span class="line">  products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;모자&quot;</span>));</span><br><span class="line">  products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="string">&quot;바지&quot;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> Order.order(<span class="string">&quot;yun&quot;</span>, products);</span><br><span class="line">  <span class="comment">// order.setStep(OrderStep.SHIPPING); Setter 메서드가 간절하다.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//when</span></span><br><span class="line">  order.changeStepToCompleted();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//then</span></span><br><span class="line">  assertThat(order.getStep()).isEqualTo(OrderStep.COMPLETED);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Order 객체를 테스트하기 위해서는 Order 객체를 만들어야 합니다. 그리고 Order 객체는 시간에 따라서 데이터들이 달라집니다. 주문 신청부터 주문 완료까지 Order 객체는 계속해서 변경됩니다.</p>
<p>적절하게 단위 테스트하기 위해서는 데이터를 특정 시점처럼 만들어야 합니다. 위 테스트도 주문 완료를 테스트하기 위해서 주문 생성 -&gt; 주문 배송 중으로 변경해야 합니다. 이럴 경우 Setter를 쓰면 모든 비니지스 로직을 무시하고 데이터를 특정 시점으로 변경시킬 수 있습니다.</p>
<p>위 도메인은 상당히 간단한 편이지만 주문, 환불, 주문 부분 취소, 주문 전체 취소 등 다양한 도메인들을 테스트하기 위해서는 특정 시점으로 변경하기 어렵습니다. 위처럼 방어적 로직이 있어 모든 조건이 만족할 때만 데이터를 변경하도록 하기 때문입니다.</p>
<p>그래서 나름의 <strong>결론은 @Setter를 사용하고 test 코드 작성 시에만 Setter를 사용한다 정도입니다.</strong> 객체지향 관점에서 아무 로직 없는 Setter는 객체 간의 협력관계에서 객체의 자율성을 심하게 훼손시킵니다. 테스트 코드 이외에는 Setter를 사용하지 않아야 한다는 것이 지금의 결론입니다.</p>
<p><strong>그래도 명확한 가이드가 없는 건 사실입니다. test 디렉터리에서만 Setter 메서드를 사용하지 않는다</strong>라는 팀 차원의 공유만 있을 뿐 그것을 강제할 방법은 없습니다.</p>
<h2><span id="tonghab-teseuteuyi-eoryeoum">통합 테스트의 어려움</span><a href="#tonghab-teseuteuyi-eoryeoum" class="header-anchor">#</a></h2><p>통합 테스트에서 어려운 점들이 Given 작성하는 것입니다. 페이징 및 필터 관련된 API를 테스트한다고 했을 경우 데이터를 Set up 해주기가 어렵습니다.</p>
<p>만약 주문 생성 API를 테스트하기 위해서는</p>
<ul>
<li>회원</li>
<li>상품</li>
<li>상품 카테고리</li>
<li>해당 상품의 입점사 정보</li>
<li>쿠폰 (만약 쿠폰을 사용했을 때 필요)</li>
</ul>
<p>아무리 간단하게 생각해도 최소한 이 정도의 데이터를 Set up 해야 합니다. 실제 오픈 커머스 같은 경우에는 주문 한 번을 하기 위해서 수십 개의 테이블들을 Set up 해야 합니다.<br>테스트를 위해서 객체를 만들고 JPA로 데이터를 Set up 한다면 차라리 저는 테스트를 포기하겠습니다.</p>
<h3><span id="importreul-iyonghan-deiteo-set-up">Import를 이용한 데이터 Set up</span><a href="#importreul-iyonghan-deiteo-set-up" class="header-anchor">#</a></h3><p>스프링이 로드될 때 <code>data.sql</code>을 읽어 들여 Given을 만드는 방식입니다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># data.sql</span><br><span class="line"><span class="keyword">INSERT INTO</span></span><br><span class="line">    `<span class="keyword">member</span>` (`id`, `email`, `name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">	(<span class="number">1</span>, <span class="string">&#x27;yun@asd.com&#x27;</span>, <span class="string">&#x27;yun&#x27;</span>),</span><br><span class="line">	(<span class="number">2</span>, <span class="string">&#x27;wan@asd.com&#x27;</span>, <span class="string">&#x27;wan&#x27;</span>),</span><br><span class="line">	(<span class="number">3</span>, <span class="string">&#x27;jin@asd.com&#x27;</span>, <span class="string">&#x27;jin&#x27;</span>),</span><br><span class="line">	(<span class="number">4</span>, <span class="string">&#x27;ck@asd.com&#x27;</span>, <span class="string">&#x27;ck&#x27;</span>);</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">member_page_test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="comment">//given</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//when</span></span><br><span class="line">  <span class="keyword">final</span> <span class="type">ResultActions</span> <span class="variable">resultActions</span> <span class="operator">=</span> mvc.perform(get(<span class="string">&quot;/members&quot;</span>)</span><br><span class="line">      .contentType(MediaType.APPLICATION_JSON_UTF8))</span><br><span class="line">      .andDo(print());</span><br><span class="line"></span><br><span class="line">  <span class="comment">//then</span></span><br><span class="line">  resultActions</span><br><span class="line">      .andExpect(status().isOk())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;content&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;pageable&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;pageable&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;numberOfElements&quot;</span>).value(<span class="string">&quot;4&quot;</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>SQL</code>로 given을 구성하게 되면 테스트하고자 하는 부분의 when, then 구절은 어렵지 않게 작성할 수 있습니다. 또 비즈니스 로직과 상관없이 데이터를 특정 시점으로 만들 수 있습니다.</p>
<p>하지만 단점도 있습니다. 칼럼의 변경 및 확장 시 테스트 코드의 지속적인 관리가 어렵다는 점이 있습니다. 또 누군가의 <code>member</code> insert를 추가적으로 하면 <code>.andExpect(jsonPath(&quot;numberOfElements&quot;).value(&quot;4&quot;))</code> 테스트 코드는 실패하게 됩니다. <strong>모든 작업자들이 <code>data.sql</code>을 추가 및 변경하다 보면 문제가 계속 생기게 됩니다.</strong></p>
<h3><span id="nareumyi-haegyeol-bangbeob">나름의 해결 방법</span><a href="#nareumyi-haegyeol-bangbeob" class="header-anchor">#</a></h3><p>위에서도 말했듯이 <code>data.sql</code>을 모든 작업자가 공동으로 사용하게 되니 문제가 발생한다면 테스트 단위로 <code>data-&#123;xxx-test&#125;.sql</code>을 관리하면 좋을 거 같습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">member_page_test</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="comment">//given</span></span><br><span class="line">  dataSetUp(<span class="string">&quot;classpath:member_page_test.sql&quot;</span>); <span class="comment">// 로직은 구현하지 않았습니다.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//when</span></span><br><span class="line">  <span class="keyword">final</span> <span class="type">ResultActions</span> <span class="variable">resultActions</span> <span class="operator">=</span> mvc.perform(get(<span class="string">&quot;/members&quot;</span>)</span><br><span class="line">      .contentType(MediaType.APPLICATION_JSON_UTF8))</span><br><span class="line">      .andDo(print());</span><br><span class="line"></span><br><span class="line">  <span class="comment">//then</span></span><br><span class="line">  resultActions</span><br><span class="line">      .andExpect(status().isOk())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;content&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;pageable&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;pageable&quot;</span>).exists())</span><br><span class="line">      .andExpect(jsonPath(<span class="string">&quot;numberOfElements&quot;</span>).value(<span class="string">&quot;4&quot;</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JSON 기반으로 테스트처럼 객체로 생성하기 어려운 Given을 JSON에서는 json 파일로 했고 여기에서는 SQL 파일로 진행합니다. 이 방식으로는 실제 실무에서 사용해본 경험은 없어 다른 문제들이 발생할지는 모르겠습니다.</p>
<h2><span id="gyeolron">결론</span><a href="#gyeolron" class="header-anchor">#</a></h2><p>결론이라고 말하기는 어렵지만 테스트 코드를 작성할 때 Given을 만들기 위해서 많은 어려운 점이 있습니다. 지금의 제 결론은 Given을 최대한 편리하게 작성하는 방법과 의존도를 낮게 코딩해서 최대한 단위 테스트를 하기 쉽게 의도적으로 설계하고 코딩하는 편이 좋다고 생각합니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Spring/" rel="tag">Spring</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Test/" rel="tag">Test</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/productivity/"
                    data-tooltip="생산성 향상 - 비기는 없다"
                    aria-label="이전: 생산성 향상 - 비기는 없다"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/jpa-fetch-paging/"
                    data-tooltip="JPA Fetch Join 적용시 limit 동작하지 않는 이슈"
                    aria-label="다음: JPA Fetch Join 적용시 limit 동작하지 않는 이슈"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-about-test/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-about-test/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        

                
                    <!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                

            
        
    </div>
</article>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/productivity/"
                    data-tooltip="생산성 향상 - 비기는 없다"
                    aria-label="이전: 생산성 향상 - 비기는 없다"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/jpa-fetch-paging/"
                    data-tooltip="JPA Fetch Join 적용시 limit 동작하지 않는 이슈"
                    aria-label="다음: JPA Fetch Join 적용시 limit 동작하지 않는 이슈"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-about-test/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-about-test/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/spring-about-test/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/spring-about-test/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
